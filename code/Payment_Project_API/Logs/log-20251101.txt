2025-11-01 21:23:47.071 +05:30 [INF] User profile is available. Using 'C:\Users\anurag.kawade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-01 21:23:47.916 +05:30 [INF] Now listening on: https://localhost:7030
2025-11-01 21:23:47.919 +05:30 [INF] Now listening on: http://localhost:5086
2025-11-01 21:23:48.054 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-01 21:23:48.056 +05:30 [INF] Hosting environment: Development
2025-11-01 21:23:48.059 +05:30 [INF] Content root path: D:\CapstoneProject_BankingApp\code\Payment_Project_API
2025-11-01 21:23:48.974 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/index.html - null null
2025-11-01 21:23:49.493 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/index.html - 200 null text/html;charset=utf-8 528.8953ms
2025-11-01 21:23:49.523 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - null null
2025-11-01 21:23:49.536 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - 200 16529 application/javascript; charset=utf-8 13.1981ms
2025-11-01 21:23:49.639 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_vs/browserLink - null null
2025-11-01 21:23:49.717 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.8373ms
2025-11-01 21:23:49.761 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - null null
2025-11-01 21:23:49.832 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.4578ms
2025-11-01 21:24:18.943 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 52
2025-11-01 21:24:18.964 +05:30 [INF] CORS policy execution failed.
2025-11-01 21:24:18.967 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 21:24:19.138 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 21:24:19.174 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 21:24:19.647 +05:30 [INF] Login Started
2025-11-01 21:24:20.488 +05:30 [WRN] Navigations 'Account.ClientUser' and 'ClientUser.Account' were separated into two relationships since the [ForeignKey] attribute was specified on properties 'ClientId' and 'AccountId' on both sides.
2025-11-01 21:24:20.852 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'SalaryDisbursement'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-01 21:24:20.857 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryDisbursementDetails'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-01 21:24:22.140 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 21:24:22.447 +05:30 [INF] Login Sucessfull
2025-11-01 21:24:22.453 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 21:24:22.513 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 3330.2965ms
2025-11-01 21:24:22.516 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 21:24:22.529 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 3586.1419ms
2025-11-01 21:25:05.443 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Bank - null null
2025-11-01 21:25:05.508 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankController.GetAllBanks (Payment_Project_API)'
2025-11-01 21:25:05.519 +05:30 [INF] Route matched with {action = "GetAllBanks", controller = "Bank"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBanks(System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Payment_Project_API.Controllers.BankController (Payment_Project_API).
2025-11-01 21:25:05.628 +05:30 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-01 21:25:05.635 +05:30 [INF] GetAllBanks Started
2025-11-01 21:25:05.714 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 21:25:05.758 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Banks] AS [b]
LEFT JOIN [Accounts] AS [a] ON [b].[BankId] = [a].[BankId]
LEFT JOIN [Users] AS [u] ON [b].[BankId] = [u].[BankId]
ORDER BY [b].[BankId], [a].[AccountId]
2025-11-01 21:25:05.845 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Banks] AS [b]
LEFT JOIN [Accounts] AS [a] ON [b].[BankId] = [a].[BankId]
LEFT JOIN [Users] AS [u] ON [b].[BankId] = [u].[BankId]
ORDER BY [b].[BankId], [a].[AccountId]
2025-11-01 21:25:05.851 +05:30 [INF] GetAllBanks succeeded. Returned 1 banks
2025-11-01 21:25:05.853 +05:30 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions+IncludableQueryable`2[[Payment_Project_API.Models.Bank, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.ICollection`1[[Payment_Project_API.Models.User, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-01 21:25:05.879 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 21:25:05.920 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Banks] AS [b]
LEFT JOIN [Accounts] AS [a] ON [b].[BankId] = [a].[BankId]
LEFT JOIN [Users] AS [u] ON [b].[BankId] = [u].[BankId]
ORDER BY [b].[BankId], [a].[AccountId]
2025-11-01 21:25:05.954 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankController.GetAllBanks (Payment_Project_API) in 431.4956ms
2025-11-01 21:25:05.957 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankController.GetAllBanks (Payment_Project_API)'
2025-11-01 21:25:05.961 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Bank - 200 null application/json; charset=utf-8 518.9592ms
2025-11-01 21:26:42.695 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Bank - application/json 68
2025-11-01 21:26:42.710 +05:30 [INF] CORS policy execution failed.
2025-11-01 21:26:42.713 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 21:26:42.727 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankController.CreateBank (Payment_Project_API)'
2025-11-01 21:26:42.735 +05:30 [INF] Route matched with {action = "CreateBank", controller = "Bank"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBank(Payment_Project_API.DTOs.BankDTO) on controller Payment_Project_API.Controllers.BankController (Payment_Project_API).
2025-11-01 21:26:42.755 +05:30 [INF] CreateBank started.
2025-11-01 21:26:42.870 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 21:26:42.898 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__bank_IFSC_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[BankId], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM (
    SELECT TOP(1) [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
    FROM [Banks] AS [b]
    WHERE [b].[IFSC] = @__bank_IFSC_0
) AS [t]
LEFT JOIN [Accounts] AS [a] ON [t].[BankId] = [a].[BankId]
LEFT JOIN [Users] AS [u] ON [t].[BankId] = [u].[BankId]
ORDER BY [t].[BankId], [a].[AccountId]
2025-11-01 21:26:43.085 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Banks] ([BankName], [CreatedAt], [IFSC], [IsActive])
OUTPUT INSERTED.[BankId]
VALUES (@p0, @p1, @p2, @p3);
2025-11-01 21:26:43.120 +05:30 [INF] CreateBank succeeded 
2025-11-01 21:26:43.124 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.Bank'.
2025-11-01 21:26:43.127 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankController.CreateBank (Payment_Project_API) in 389.2859ms
2025-11-01 21:26:43.130 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankController.CreateBank (Payment_Project_API)'
2025-11-01 21:26:43.132 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Bank - 200 null application/json; charset=utf-8 437.4218ms
2025-11-01 21:58:18.797 +05:30 [INF] User profile is available. Using 'C:\Users\anurag.kawade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-01 21:58:19.264 +05:30 [INF] Now listening on: https://localhost:7030
2025-11-01 21:58:19.267 +05:30 [INF] Now listening on: http://localhost:5086
2025-11-01 21:58:19.434 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-01 21:58:19.436 +05:30 [INF] Hosting environment: Development
2025-11-01 21:58:19.438 +05:30 [INF] Content root path: D:\CapstoneProject_BankingApp\code\Payment_Project_API
2025-11-01 21:58:20.055 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/index.html - null null
2025-11-01 21:58:20.412 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/index.html - 200 null text/html;charset=utf-8 366.4473ms
2025-11-01 21:58:20.418 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - null null
2025-11-01 21:58:20.436 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 18.0314ms
2025-11-01 21:58:20.471 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_vs/browserLink - null null
2025-11-01 21:58:20.545 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_vs/browserLink - 200 null text/javascript; charset=UTF-8 74.83ms
2025-11-01 21:58:20.593 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - null null
2025-11-01 21:58:20.663 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.8528ms
2025-11-01 22:03:08.208 +05:30 [INF] User profile is available. Using 'C:\Users\anurag.kawade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-01 22:03:08.627 +05:30 [INF] Now listening on: https://localhost:7030
2025-11-01 22:03:08.630 +05:30 [INF] Now listening on: http://localhost:5086
2025-11-01 22:03:08.765 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-01 22:03:08.767 +05:30 [INF] Hosting environment: Development
2025-11-01 22:03:08.769 +05:30 [INF] Content root path: D:\CapstoneProject_BankingApp\code\Payment_Project_API
2025-11-01 22:03:09.738 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/index.html - null null
2025-11-01 22:03:10.087 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/index.html - 200 null text/html;charset=utf-8 359.6875ms
2025-11-01 22:03:10.088 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - null null
2025-11-01 22:03:10.107 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 18.5426ms
2025-11-01 22:03:10.144 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_vs/browserLink - null null
2025-11-01 22:03:10.212 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.9959ms
2025-11-01 22:03:10.253 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - null null
2025-11-01 22:03:10.330 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.2395ms
2025-11-01 22:03:34.626 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 52
2025-11-01 22:03:34.641 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:03:34.644 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:03:35.012 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:03:35.052 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 22:03:35.407 +05:30 [INF] Login Started
2025-11-01 22:03:36.100 +05:30 [WRN] Navigations 'Account.ClientUser' and 'ClientUser.Account' were separated into two relationships since the [ForeignKey] attribute was specified on properties 'ClientId' and 'AccountId' on both sides.
2025-11-01 22:03:36.479 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'SalaryDisbursement'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-01 22:03:36.482 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryDisbursementDetails'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-01 22:03:37.594 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 22:03:37.895 +05:30 [INF] Login Sucessfull
2025-11-01 22:03:37.901 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 22:03:37.970 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 2909.1778ms
2025-11-01 22:03:37.973 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:03:37.983 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 3357.3998ms
2025-11-01 22:03:59.109 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Bank/2 - null null
2025-11-01 22:03:59.189 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankController.GetBankById (Payment_Project_API)'
2025-11-01 22:03:59.198 +05:30 [INF] Route matched with {action = "GetBankById", controller = "Bank"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBankById(Int32) on controller Payment_Project_API.Controllers.BankController (Payment_Project_API).
2025-11-01 22:03:59.314 +05:30 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-01 22:03:59.321 +05:30 [INF] GetBankById started
2025-11-01 22:03:59.417 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 22:03:59.475 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[BankId], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM (
    SELECT TOP(1) [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
    FROM [Banks] AS [b]
    WHERE [b].[BankId] = @__id_0
) AS [t]
LEFT JOIN [Accounts] AS [a] ON [t].[BankId] = [a].[BankId]
LEFT JOIN [Users] AS [u] ON [t].[BankId] = [u].[BankId]
ORDER BY [t].[BankId], [a].[AccountId]
2025-11-01 22:03:59.518 +05:30 [INF] GetBankByID succeeded.
2025-11-01 22:03:59.523 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.Bank'.
2025-11-01 22:03:59.529 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankController.GetBankById (Payment_Project_API) in 327.2256ms
2025-11-01 22:03:59.533 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankController.GetBankById (Payment_Project_API)'
2025-11-01 22:03:59.536 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Bank/2 - 200 null application/json; charset=utf-8 427.8846ms
2025-11-01 22:04:14.993 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/BankUser - null null
2025-11-01 22:04:15.012 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankUserController.GetAllBankUsers (Payment_Project_API)'
2025-11-01 22:04:15.023 +05:30 [INF] Route matched with {action = "GetAllBankUsers", controller = "BankUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBankUsers(System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Payment_Project_API.Controllers.BankUserController (Payment_Project_API).
2025-11-01 22:04:15.034 +05:30 [INF] GetAllBankUsers started!
2025-11-01 22:04:15.191 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [r].[RoleId], [r].[Role], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [t].[BankId0], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive]
FROM [Users] AS [u]
INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[AccountId], [u0].[Address], [u0].[BankUserId], [u0].[DateOfBirth], [u0].[KycVierified], [b0].[BankId] AS [BankId0], [b0].[BankName], [b0].[CreatedAt], [b0].[IFSC], [b0].[IsActive]
    FROM [Users] AS [u0]
    INNER JOIN [Banks] AS [b0] ON [u0].[BankId] = [b0].[BankId]
    WHERE [u0].[Discriminator] = N'ClientUser'
) AS [t] ON [u].[UserId] = [t].[BankUserId]
WHERE [u].[Discriminator] = N'BankUser'
ORDER BY [u].[UserId], [b].[BankId], [r].[RoleId], [t].[UserId]
2025-11-01 22:04:15.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [r].[RoleId], [r].[Role], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [t].[BankId0], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive]
FROM [Users] AS [u]
INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[AccountId], [u0].[Address], [u0].[BankUserId], [u0].[DateOfBirth], [u0].[KycVierified], [b0].[BankId] AS [BankId0], [b0].[BankName], [b0].[CreatedAt], [b0].[IFSC], [b0].[IsActive]
    FROM [Users] AS [u0]
    INNER JOIN [Banks] AS [b0] ON [u0].[BankId] = [b0].[BankId]
    WHERE [u0].[Discriminator] = N'ClientUser'
) AS [t] ON [u].[UserId] = [t].[BankUserId]
WHERE [u].[Discriminator] = N'BankUser'
ORDER BY [u].[UserId], [b].[BankId], [r].[RoleId], [t].[UserId]
2025-11-01 22:04:15.247 +05:30 [INF] Found 1 Bank Users
2025-11-01 22:04:15.249 +05:30 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions+IncludableQueryable`2[[Payment_Project_API.Models.BankUser, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Payment_Project_API.Models.Bank, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-01 22:04:15.278 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [r].[RoleId], [r].[Role], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [t].[BankId0], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive]
FROM [Users] AS [u]
INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[AccountId], [u0].[Address], [u0].[BankUserId], [u0].[DateOfBirth], [u0].[KycVierified], [b0].[BankId] AS [BankId0], [b0].[BankName], [b0].[CreatedAt], [b0].[IFSC], [b0].[IsActive]
    FROM [Users] AS [u0]
    INNER JOIN [Banks] AS [b0] ON [u0].[BankId] = [b0].[BankId]
    WHERE [u0].[Discriminator] = N'ClientUser'
) AS [t] ON [u].[UserId] = [t].[BankUserId]
WHERE [u].[Discriminator] = N'BankUser'
ORDER BY [u].[UserId], [b].[BankId], [r].[RoleId], [t].[UserId]
2025-11-01 22:04:15.306 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankUserController.GetAllBankUsers (Payment_Project_API) in 279.0697ms
2025-11-01 22:04:15.309 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankUserController.GetAllBankUsers (Payment_Project_API)'
2025-11-01 22:04:15.311 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/BankUser - 200 null application/json; charset=utf-8 318.8667ms
2025-11-01 22:05:31.526 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Bank - null null
2025-11-01 22:05:31.545 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankController.GetAllBanks (Payment_Project_API)'
2025-11-01 22:05:31.560 +05:30 [INF] Route matched with {action = "GetAllBanks", controller = "Bank"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBanks(System.String, System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Payment_Project_API.Controllers.BankController (Payment_Project_API).
2025-11-01 22:05:31.567 +05:30 [INF] GetAllBanks Started
2025-11-01 22:05:31.594 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 22:05:31.608 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Banks] AS [b]
LEFT JOIN [Accounts] AS [a] ON [b].[BankId] = [a].[BankId]
LEFT JOIN [Users] AS [u] ON [b].[BankId] = [u].[BankId]
ORDER BY [b].[BankId], [a].[AccountId]
2025-11-01 22:05:31.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Banks] AS [b]
LEFT JOIN [Accounts] AS [a] ON [b].[BankId] = [a].[BankId]
LEFT JOIN [Users] AS [u] ON [b].[BankId] = [u].[BankId]
ORDER BY [b].[BankId], [a].[AccountId]
2025-11-01 22:05:31.663 +05:30 [INF] GetAllBanks succeeded. Returned 2 banks
2025-11-01 22:05:31.667 +05:30 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions+IncludableQueryable`2[[Payment_Project_API.Models.Bank, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.ICollection`1[[Payment_Project_API.Models.User, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-01 22:05:31.687 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 22:05:31.696 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Banks] AS [b]
LEFT JOIN [Accounts] AS [a] ON [b].[BankId] = [a].[BankId]
LEFT JOIN [Users] AS [u] ON [b].[BankId] = [u].[BankId]
ORDER BY [b].[BankId], [a].[AccountId]
2025-11-01 22:05:31.710 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankController.GetAllBanks (Payment_Project_API) in 146.3871ms
2025-11-01 22:05:31.713 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankController.GetAllBanks (Payment_Project_API)'
2025-11-01 22:05:31.716 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Bank - 200 null application/json; charset=utf-8 192.3332ms
2025-11-01 22:06:20.617 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/BankUser - application/json 270
2025-11-01 22:06:20.626 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:06:20.628 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:06:20.631 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankUserController.CreateBankUser (Payment_Project_API)'
2025-11-01 22:06:20.637 +05:30 [INF] Route matched with {action = "CreateBankUser", controller = "BankUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBankUser(Payment_Project_API.DTOs.RegisterBankUserDTO) on controller Payment_Project_API.Controllers.BankUserController (Payment_Project_API).
2025-11-01 22:06:20.652 +05:30 [INF] CreateBankUser started!
2025-11-01 22:06:20.719 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__bankUser_UserEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Discriminator] = N'BankUser' AND [u].[UserEmail] = @__bankUser_UserEmail_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 22:06:20.732 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__bankUser_UserPhone_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Discriminator] = N'BankUser' AND [u].[UserPhone] = @__bankUser_UserPhone_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 22:06:21.057 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 13), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([BankId], [Branch], [Discriminator], [Password], [RefferalCode], [UserEmail], [UserFullName], [UserJoiningDate], [UserName], [UserPhone], [UserRoleId], [isActive])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-01 22:06:21.098 +05:30 [INF] Bank user created!
2025-11-01 22:06:21.100 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.BankUserResponseDTO'.
2025-11-01 22:06:21.105 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankUserController.CreateBankUser (Payment_Project_API) in 463.3978ms
2025-11-01 22:06:21.116 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankUserController.CreateBankUser (Payment_Project_API)'
2025-11-01 22:06:21.118 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/BankUser - 200 null application/json; charset=utf-8 504.2951ms
2025-11-01 22:07:09.521 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 52
2025-11-01 22:07:09.526 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:07:09.528 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:07:09.531 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:07:09.533 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 22:07:09.539 +05:30 [INF] Login Started
2025-11-01 22:07:09.546 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 22:07:09.644 +05:30 [INF] Login Sucessfull
2025-11-01 22:07:09.646 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 22:07:09.649 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 112.7156ms
2025-11-01 22:07:09.651 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:07:09.653 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 132.8458ms
2025-11-01 22:09:17.436 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/ClientUser - application/json 261
2025-11-01 22:09:17.449 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:09:17.450 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:09:17.453 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.ClientUserController.CreateClientUser (Payment_Project_API)'
2025-11-01 22:09:17.461 +05:30 [INF] Route matched with {action = "CreateClientUser", controller = "ClientUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClientUser(Payment_Project_API.DTOs.RegisterClientUserDTO) on controller Payment_Project_API.Controllers.ClientUserController (Payment_Project_API).
2025-11-01 22:09:17.482 +05:30 [INF] CreateClientUser started!
2025-11-01 22:09:17.500 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Discriminator] = N'ClientUser' AND [u].[UserEmail] = @__user_UserEmail_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 22:09:17.515 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserPhone_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Discriminator] = N'ClientUser' AND [u].[UserPhone] = @__user_UserPhone_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 22:09:17.559 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__bankId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Discriminator] = N'BankUser' AND [u].[BankId] = @__bankId_0
2025-11-01 22:09:17.564 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__bankId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Discriminator] = N'BankUser' AND [u].[BankId] = @__bankId_0
2025-11-01 22:09:17.572 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-01 22:09:17.606 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__bankId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[Branch], [t].[RefferalCode], [t].[isActive], [t].[BankId0], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive0], [t].[RoleId], [t].[Role], [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified], [t0].[BankId0], [t0].[BankName], [t0].[CreatedAt], [t0].[IFSC], [t0].[IsActive]
FROM (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [b].[BankId] AS [BankId0], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive] AS [IsActive0], [r].[RoleId], [r].[Role]
    FROM [Users] AS [u]
    INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
    INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
    WHERE [u].[Discriminator] = N'BankUser' AND [u].[BankId] = @__bankId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT 1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[AccountId], [u0].[Address], [u0].[BankUserId], [u0].[DateOfBirth], [u0].[KycVierified], [b0].[BankId] AS [BankId0], [b0].[BankName], [b0].[CreatedAt], [b0].[IFSC], [b0].[IsActive]
    FROM [Users] AS [u0]
    INNER JOIN [Banks] AS [b0] ON [u0].[BankId] = [b0].[BankId]
    WHERE [u0].[Discriminator] = N'ClientUser'
) AS [t0] ON [t].[UserId] = [t0].[BankUserId]
ORDER BY [t].[UserId], [t].[BankId0], [t].[RoleId], [t0].[UserId]
2025-11-01 22:09:17.741 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 13), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccountId], [Address], [BankId], [BankUserId], [DateOfBirth], [Discriminator], [KycVierified], [Password], [UserEmail], [UserFullName], [UserJoiningDate], [UserName], [UserPhone], [UserRoleId])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-01 22:09:17.820 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__id_0
2025-11-01 22:09:21.548 +05:30 [INF] Creation Successful!
2025-11-01 22:09:21.551 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.ClientUserResponseDTO'.
2025-11-01 22:09:21.557 +05:30 [INF] Executed action Payment_Project_API.Controllers.ClientUserController.CreateClientUser (Payment_Project_API) in 4092.4327ms
2025-11-01 22:09:21.569 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.ClientUserController.CreateClientUser (Payment_Project_API)'
2025-11-01 22:09:21.571 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/ClientUser - 200 null application/json; charset=utf-8 4135.8932ms
2025-11-01 22:46:02.244 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/index.html - null null
2025-11-01 22:46:02.275 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/index.html - 200 null text/html;charset=utf-8 27.7439ms
2025-11-01 22:46:02.302 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_vs/browserLink - null null
2025-11-01 22:46:02.305 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - null null
2025-11-01 22:46:02.324 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 18.9518ms
2025-11-01 22:46:02.353 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.3216ms
2025-11-01 22:46:02.450 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - null null
2025-11-01 22:46:02.535 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.2536ms
2025-11-01 22:47:05.349 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/ClientUser - null null
2025-11-01 22:47:05.396 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/1/2025 4:57:09 PM', Current time (UTC): '11/1/2025 5:17:05 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-01 22:47:05.482 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/1/2025 4:57:09 PM', Current time (UTC): '11/1/2025 5:17:05 PM'.
2025-11-01 22:47:05.489 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN|CLIENT_USER|BANK_USER)
2025-11-01 22:47:05.496 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-01 22:47:05.498 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/ClientUser - 401 0 null 149.0936ms
2025-11-01 22:47:28.382 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 50
2025-11-01 22:47:28.404 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:47:28.406 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:47:28.409 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/1/2025 4:57:09 PM', Current time (UTC): '11/1/2025 5:17:28 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-01 22:47:28.412 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/1/2025 4:57:09 PM', Current time (UTC): '11/1/2025 5:17:28 PM'.
2025-11-01 22:47:28.413 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:47:28.421 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 22:47:28.431 +05:30 [INF] Login Started
2025-11-01 22:47:30.037 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 22:47:30.129 +05:30 [INF] Login Sucessfull
2025-11-01 22:47:30.131 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 22:47:30.149 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 1724.0941ms
2025-11-01 22:47:30.153 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:47:30.156 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 1774.3847ms
2025-11-01 22:47:53.111 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/ClientUser - null null
2025-11-01 22:47:53.126 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.ClientUserController.GetAllClientUsers (Payment_Project_API)'
2025-11-01 22:47:53.149 +05:30 [INF] Route matched with {action = "GetAllClientUsers", controller = "ClientUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllClientUsers(System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Payment_Project_API.Controllers.ClientUserController (Payment_Project_API).
2025-11-01 22:47:53.157 +05:30 [INF] GetAllCLientUsers started!
2025-11-01 22:47:53.205 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 22:47:53.273 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [b].[BankId], [b0].[BeneficiaryId], [b0].[AccountNumber], [b0].[BankName], [b0].[BeneficiaryName], [b0].[ClientId], [b0].[ClientUserUserId], [b0].[IFSC], [e].[EmployeeId], [e].[AccountNumber], [e].[BankName], [e].[ClientId], [e].[EmployeeName], [e].[IFSC], [e].[IsActive], [e].[Salary], [e].[SalaryDisbursementId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[Branch], [t].[RefferalCode], [t].[isActive], [d].[DocumentId], [d].[ClientId], [d].[DocumentName], [d].[DocumentURL], [d].[ProofTypeId], [d].[PublicId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
FROM [Users] AS [u]
LEFT JOIN [Accounts] AS [a] ON [u].[AccountId] = [a].[AccountId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[Branch], [u0].[RefferalCode], [u0].[isActive]
    FROM [Users] AS [u0]
    WHERE [u0].[Discriminator] = N'BankUser'
) AS [t] ON [u].[BankUserId] = [t].[UserId]
INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
LEFT JOIN [Beneficiaries] AS [b0] ON [u].[UserId] = [b0].[ClientUserUserId]
LEFT JOIN [Employees] AS [e] ON [u].[UserId] = [e].[ClientId]
LEFT JOIN [Documents] AS [d] ON [u].[UserId] = [d].[ClientId]
WHERE [u].[Discriminator] = N'ClientUser'
ORDER BY [u].[UserId], [a].[AccountId], [t].[UserId], [b].[BankId], [b0].[BeneficiaryId], [e].[EmployeeId]
2025-11-01 22:47:53.280 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [b].[BankId], [b0].[BeneficiaryId], [b0].[AccountNumber], [b0].[BankName], [b0].[BeneficiaryName], [b0].[ClientId], [b0].[ClientUserUserId], [b0].[IFSC], [e].[EmployeeId], [e].[AccountNumber], [e].[BankName], [e].[ClientId], [e].[EmployeeName], [e].[IFSC], [e].[IsActive], [e].[Salary], [e].[SalaryDisbursementId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[Branch], [t].[RefferalCode], [t].[isActive], [d].[DocumentId], [d].[ClientId], [d].[DocumentName], [d].[DocumentURL], [d].[ProofTypeId], [d].[PublicId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
FROM [Users] AS [u]
LEFT JOIN [Accounts] AS [a] ON [u].[AccountId] = [a].[AccountId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[Branch], [u0].[RefferalCode], [u0].[isActive]
    FROM [Users] AS [u0]
    WHERE [u0].[Discriminator] = N'BankUser'
) AS [t] ON [u].[BankUserId] = [t].[UserId]
INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
LEFT JOIN [Beneficiaries] AS [b0] ON [u].[UserId] = [b0].[ClientUserUserId]
LEFT JOIN [Employees] AS [e] ON [u].[UserId] = [e].[ClientId]
LEFT JOIN [Documents] AS [d] ON [u].[UserId] = [d].[ClientId]
WHERE [u].[Discriminator] = N'ClientUser'
ORDER BY [u].[UserId], [a].[AccountId], [t].[UserId], [b].[BankId], [b0].[BeneficiaryId], [e].[EmployeeId]
2025-11-01 22:47:53.318 +05:30 [INF] 5 client users were displayed!
2025-11-01 22:47:53.320 +05:30 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions+IncludableQueryable`2[[Payment_Project_API.Models.ClientUser, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Payment_Project_API.Models.Bank, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-01 22:47:53.344 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 22:47:53.364 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [b].[BankId], [b0].[BeneficiaryId], [b0].[AccountNumber], [b0].[BankName], [b0].[BeneficiaryName], [b0].[ClientId], [b0].[ClientUserUserId], [b0].[IFSC], [e].[EmployeeId], [e].[AccountNumber], [e].[BankName], [e].[ClientId], [e].[EmployeeName], [e].[IFSC], [e].[IsActive], [e].[Salary], [e].[SalaryDisbursementId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[Branch], [t].[RefferalCode], [t].[isActive], [d].[DocumentId], [d].[ClientId], [d].[DocumentName], [d].[DocumentURL], [d].[ProofTypeId], [d].[PublicId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
FROM [Users] AS [u]
LEFT JOIN [Accounts] AS [a] ON [u].[AccountId] = [a].[AccountId]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[Branch], [u0].[RefferalCode], [u0].[isActive]
    FROM [Users] AS [u0]
    WHERE [u0].[Discriminator] = N'BankUser'
) AS [t] ON [u].[BankUserId] = [t].[UserId]
INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
LEFT JOIN [Beneficiaries] AS [b0] ON [u].[UserId] = [b0].[ClientUserUserId]
LEFT JOIN [Employees] AS [e] ON [u].[UserId] = [e].[ClientId]
LEFT JOIN [Documents] AS [d] ON [u].[UserId] = [d].[ClientId]
WHERE [u].[Discriminator] = N'ClientUser'
ORDER BY [u].[UserId], [a].[AccountId], [t].[UserId], [b].[BankId], [b0].[BeneficiaryId], [e].[EmployeeId]
2025-11-01 22:47:53.404 +05:30 [INF] Executed action Payment_Project_API.Controllers.ClientUserController.GetAllClientUsers (Payment_Project_API) in 251.7482ms
2025-11-01 22:47:53.406 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.ClientUserController.GetAllClientUsers (Payment_Project_API)'
2025-11-01 22:47:53.408 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/ClientUser - 200 null application/json; charset=utf-8 297.5496ms
2025-11-01 22:48:57.384 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/BankUser - null null
2025-11-01 22:48:57.398 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2025-11-01 22:48:57.402 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-11-01 22:48:57.404 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/BankUser - 403 0 null 19.808ms
2025-11-01 22:51:00.501 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Account - application/json 133
2025-11-01 22:51:00.514 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:51:00.515 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:51:00.517 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 22:51:00.524 +05:30 [INF] Route matched with {action = "CreateAccount", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAccount(Payment_Project_API.DTOs.RegisterAccountDTO) on controller Payment_Project_API.Controllers.AccountController (Payment_Project_API).
2025-11-01 22:51:00.538 +05:30 [INF] CreateAccount started.
2025-11-01 22:51:00.584 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[AccountNumber] = @__accountNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 22:51:00.621 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([AccountNumber], [AccountStatusId], [AccountTypeId], [Balance], [BankId], [ClientId], [CreatedAt], [TransactionIds])
OUTPUT INSERTED.[AccountId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-01 22:51:00.632 +05:30 [INF] CreateAccount succeeded with accountNumber BPA20251101L81TVI
2025-11-01 22:51:00.633 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.AccountResponseDTO'.
2025-11-01 22:51:00.639 +05:30 [INF] Executed action Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API) in 110.8941ms
2025-11-01 22:51:00.649 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 22:51:00.651 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Account - 200 null application/json; charset=utf-8 151.6492ms
2025-11-01 22:53:48.361 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 52
2025-11-01 22:53:48.375 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:53:48.376 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:53:48.379 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:53:48.382 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 22:53:48.386 +05:30 [INF] Login Started
2025-11-01 22:53:48.390 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 22:53:48.486 +05:30 [INF] Login Sucessfull
2025-11-01 22:53:48.488 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 22:53:48.490 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 104.944ms
2025-11-01 22:53:48.493 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:53:48.500 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 136.8462ms
2025-11-01 22:56:40.356 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7030/api/ClientUser/approve/1003 - application/json 141262
2025-11-01 22:56:40.421 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:56:40.425 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:56:40.429 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.ClientUserController.ApproveClientUser (Payment_Project_API)'
2025-11-01 22:56:40.436 +05:30 [INF] Route matched with {action = "ApproveClientUser", controller = "ClientUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveClientUser(Int32, Payment_Project_API.Models.ClientUser) on controller Payment_Project_API.Controllers.ClientUserController (Payment_Project_API).
2025-11-01 22:56:40.472 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-01 22:56:40.497 +05:30 [INF] Executed action Payment_Project_API.Controllers.ClientUserController.ApproveClientUser (Payment_Project_API) in 58.2165ms
2025-11-01 22:56:40.501 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.ClientUserController.ApproveClientUser (Payment_Project_API)'
2025-11-01 22:56:40.502 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7030/api/ClientUser/approve/1003 - 400 null application/problem+json; charset=utf-8 148.2341ms
2025-11-01 22:57:16.938 +05:30 [INF] User profile is available. Using 'C:\Users\anurag.kawade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-01 22:57:17.377 +05:30 [INF] Now listening on: https://localhost:7030
2025-11-01 22:57:17.380 +05:30 [INF] Now listening on: http://localhost:5086
2025-11-01 22:57:17.521 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-01 22:57:17.524 +05:30 [INF] Hosting environment: Development
2025-11-01 22:57:17.526 +05:30 [INF] Content root path: D:\CapstoneProject_BankingApp\code\Payment_Project_API
2025-11-01 22:57:19.170 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/index.html - null null
2025-11-01 22:57:19.531 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/index.html - 200 null text/html;charset=utf-8 374.4016ms
2025-11-01 22:57:19.563 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_vs/browserLink - null null
2025-11-01 22:57:19.563 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - null null
2025-11-01 22:57:19.588 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 25.0586ms
2025-11-01 22:57:19.627 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.5783ms
2025-11-01 22:57:19.755 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - null null
2025-11-01 22:57:19.858 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.5056ms
2025-11-01 22:57:41.934 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 52
2025-11-01 22:57:41.948 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:57:41.951 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:57:42.085 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:57:42.121 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 22:57:42.384 +05:30 [INF] Login Started
2025-11-01 22:57:43.025 +05:30 [WRN] Navigations 'Account.ClientUser' and 'ClientUser.Account' were separated into two relationships since the [ForeignKey] attribute was specified on properties 'ClientId' and 'AccountId' on both sides.
2025-11-01 22:57:43.402 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'SalaryDisbursement'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-01 22:57:43.405 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryDisbursementDetails'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-01 22:57:44.388 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 22:57:44.639 +05:30 [INF] Login Sucessfull
2025-11-01 22:57:44.645 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 22:57:44.705 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 2576.7247ms
2025-11-01 22:57:44.708 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 22:57:44.719 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 2785.7905ms
2025-11-01 22:58:25.288 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Bank - application/json 67
2025-11-01 22:58:25.316 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:58:25.318 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:58:25.394 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankController.CreateBank (Payment_Project_API)'
2025-11-01 22:58:25.403 +05:30 [INF] Route matched with {action = "CreateBank", controller = "Bank"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBank(Payment_Project_API.DTOs.BankDTO) on controller Payment_Project_API.Controllers.BankController (Payment_Project_API).
2025-11-01 22:58:25.510 +05:30 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-01 22:58:25.521 +05:30 [INF] CreateBank started.
2025-11-01 22:58:25.632 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 22:58:25.689 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__bank_IFSC_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[BankId], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM (
    SELECT TOP(1) [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
    FROM [Banks] AS [b]
    WHERE [b].[IFSC] = @__bank_IFSC_0
) AS [t]
LEFT JOIN [Accounts] AS [a] ON [t].[BankId] = [a].[BankId]
LEFT JOIN [Users] AS [u] ON [t].[BankId] = [u].[BankId]
ORDER BY [t].[BankId], [a].[AccountId]
2025-11-01 22:58:25.915 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Banks] ([BankName], [CreatedAt], [IFSC], [IsActive])
OUTPUT INSERTED.[BankId]
VALUES (@p0, @p1, @p2, @p3);
2025-11-01 22:58:25.954 +05:30 [INF] CreateBank succeeded 
2025-11-01 22:58:25.958 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.Bank'.
2025-11-01 22:58:25.965 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankController.CreateBank (Payment_Project_API) in 558.4738ms
2025-11-01 22:58:25.968 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankController.CreateBank (Payment_Project_API)'
2025-11-01 22:58:25.973 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Bank - 200 null application/json; charset=utf-8 684.8328ms
2025-11-01 22:59:40.888 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/BankUser - application/json 269
2025-11-01 22:59:40.916 +05:30 [INF] CORS policy execution failed.
2025-11-01 22:59:40.919 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 22:59:40.928 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankUserController.CreateBankUser (Payment_Project_API)'
2025-11-01 22:59:40.937 +05:30 [INF] Route matched with {action = "CreateBankUser", controller = "BankUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBankUser(Payment_Project_API.DTOs.RegisterBankUserDTO) on controller Payment_Project_API.Controllers.BankUserController (Payment_Project_API).
2025-11-01 22:59:40.956 +05:30 [INF] CreateBankUser started!
2025-11-01 22:59:41.051 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__bankUser_UserEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Discriminator] = N'BankUser' AND [u].[UserEmail] = @__bankUser_UserEmail_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 22:59:41.062 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__bankUser_UserPhone_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Discriminator] = N'BankUser' AND [u].[UserPhone] = @__bankUser_UserPhone_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 22:59:41.214 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 13), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([BankId], [Branch], [Discriminator], [Password], [RefferalCode], [UserEmail], [UserFullName], [UserJoiningDate], [UserName], [UserPhone], [UserRoleId], [isActive])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-01 22:59:41.226 +05:30 [INF] Bank user created!
2025-11-01 22:59:41.229 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.BankUserResponseDTO'.
2025-11-01 22:59:41.233 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankUserController.CreateBankUser (Payment_Project_API) in 291.553ms
2025-11-01 22:59:41.244 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankUserController.CreateBankUser (Payment_Project_API)'
2025-11-01 22:59:41.246 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/BankUser - 200 null application/json; charset=utf-8 358.2801ms
2025-11-01 23:00:47.475 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7030/api/BankUser/approve/2002 - application/json 191
2025-11-01 23:00:47.491 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:00:47.493 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:00:47.498 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankUserController.ApproveBankUser (Payment_Project_API)'
2025-11-01 23:00:47.506 +05:30 [INF] Route matched with {action = "ApproveBankUser", controller = "BankUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveBankUser(Int32, Payment_Project_API.Models.BankUser) on controller Payment_Project_API.Controllers.BankUserController (Payment_Project_API).
2025-11-01 23:00:47.545 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-01 23:00:47.580 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankUserController.ApproveBankUser (Payment_Project_API) in 70.9425ms
2025-11-01 23:00:47.583 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankUserController.ApproveBankUser (Payment_Project_API)'
2025-11-01 23:00:47.585 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7030/api/BankUser/approve/2002 - 400 null application/problem+json; charset=utf-8 110.2332ms
2025-11-01 23:01:17.638 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 52
2025-11-01 23:01:17.643 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:01:17.668 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:01:17.671 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:01:17.675 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 23:01:17.683 +05:30 [INF] Login Started
2025-11-01 23:01:17.693 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 23:01:17.785 +05:30 [INF] Login Sucessfull
2025-11-01 23:01:17.787 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 23:01:17.789 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 110.6057ms
2025-11-01 23:01:17.793 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:01:17.795 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 157.3524ms
2025-11-01 23:01:59.013 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7030/api/BankUser/approve/2002 - application/json 269
2025-11-01 23:01:59.026 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:01:59.028 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:01:59.038 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonReaderException: '0xC8' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.IsReaderAtTokenType(Utf8JsonReader& reader, JsonTokenType tokenType, Boolean advanceReader)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateHeaderClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-11-01 23:01:59.073 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-11-01 23:01:59.079 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2025-11-01 23:01:59.089 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-01 23:01:59.096 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7030/api/BankUser/approve/2002 - 401 0 null 83.8157ms
2025-11-01 23:02:32.620 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/BankUser/2002 - null null
2025-11-01 23:02:32.655 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonReaderException: '0xC8' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.IsReaderAtTokenType(Utf8JsonReader& reader, JsonTokenType tokenType, Boolean advanceReader)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateHeaderClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-11-01 23:02:32.662 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-11-01 23:02:32.664 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN|BANK_USER)
2025-11-01 23:02:32.667 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-01 23:02:32.669 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/BankUser/2002 - 401 0 null 49.5487ms
2025-11-01 23:02:47.922 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/BankUser/1002 - null null
2025-11-01 23:02:47.928 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonReaderException: '0xC8' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.IsReaderAtTokenType(Utf8JsonReader& reader, JsonTokenType tokenType, Boolean advanceReader)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateHeaderClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-11-01 23:02:47.934 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-11-01 23:02:47.936 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN|BANK_USER)
2025-11-01 23:02:47.938 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-01 23:02:47.940 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/BankUser/1002 - 401 0 null 18.4486ms
2025-11-01 23:02:58.501 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/BankUser - null null
2025-11-01 23:02:58.507 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonReaderException: '0xC8' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.IsReaderAtTokenType(Utf8JsonReader& reader, JsonTokenType tokenType, Boolean advanceReader)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateHeaderClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-11-01 23:02:58.513 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
2025-11-01 23:02:58.516 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2025-11-01 23:02:58.520 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-01 23:02:58.522 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/BankUser - 401 0 null 21.3739ms
2025-11-01 23:03:29.194 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/BankUser/1002 - null null
2025-11-01 23:03:29.210 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankUserController.GetBankUserById (Payment_Project_API)'
2025-11-01 23:03:29.218 +05:30 [INF] Route matched with {action = "GetBankUserById", controller = "BankUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBankUserById(Int32) on controller Payment_Project_API.Controllers.BankUserController (Payment_Project_API).
2025-11-01 23:03:29.230 +05:30 [INF] GetBankUserById started!
2025-11-01 23:03:29.272 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[Branch], [t].[RefferalCode], [t].[isActive], [t].[BankId0], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive0], [t].[RoleId], [t].[Role], [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [b].[BankId] AS [BankId0], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive] AS [IsActive0], [r].[RoleId], [r].[Role]
    FROM [Users] AS [u]
    INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
    INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
    WHERE [u].[Discriminator] = N'BankUser' AND [u].[UserId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[AccountId], [u0].[Address], [u0].[BankUserId], [u0].[DateOfBirth], [u0].[KycVierified]
    FROM [Users] AS [u0]
    WHERE [u0].[Discriminator] = N'ClientUser'
) AS [t0] ON [t].[UserId] = [t0].[BankUserId]
ORDER BY [t].[UserId], [t].[BankId0], [t].[RoleId]
2025-11-01 23:03:29.307 +05:30 [INF] Bank user id: 1002 Displayed
2025-11-01 23:03:29.309 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.BankUser'.
2025-11-01 23:03:29.316 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankUserController.GetBankUserById (Payment_Project_API) in 94.972ms
2025-11-01 23:03:29.319 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankUserController.GetBankUserById (Payment_Project_API)'
2025-11-01 23:03:29.321 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/BankUser/1002 - 200 null application/json; charset=utf-8 127.8636ms
2025-11-01 23:04:01.267 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7030/api/BankUser/approve/1002 - application/json 1882
2025-11-01 23:04:01.280 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:04:01.308 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:04:01.317 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BankUserController.ApproveBankUser (Payment_Project_API)'
2025-11-01 23:04:01.319 +05:30 [INF] Route matched with {action = "ApproveBankUser", controller = "BankUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveBankUser(Int32, Payment_Project_API.Models.BankUser) on controller Payment_Project_API.Controllers.BankUserController (Payment_Project_API).
2025-11-01 23:04:01.350 +05:30 [INF] ApproveBankUser started!
2025-11-01 23:04:01.359 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[Branch], [t].[RefferalCode], [t].[isActive], [t].[BankId0], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive0], [t].[RoleId], [t].[Role], [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [b].[BankId] AS [BankId0], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive] AS [IsActive0], [r].[RoleId], [r].[Role]
    FROM [Users] AS [u]
    INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
    INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
    WHERE [u].[Discriminator] = N'BankUser' AND [u].[UserId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[AccountId], [u0].[Address], [u0].[BankUserId], [u0].[DateOfBirth], [u0].[KycVierified]
    FROM [Users] AS [u0]
    WHERE [u0].[Discriminator] = N'ClientUser'
) AS [t0] ON [t].[UserId] = [t0].[BankUserId]
ORDER BY [t].[UserId], [t].[BankId0], [t].[RoleId]
2025-11-01 23:04:01.375 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[Branch], [t].[RefferalCode], [t].[isActive], [t].[BankId0], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive0], [t].[RoleId], [t].[Role], [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [b].[BankId] AS [BankId0], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive] AS [IsActive0], [r].[RoleId], [r].[Role]
    FROM [Users] AS [u]
    INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
    INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
    WHERE [u].[Discriminator] = N'BankUser' AND [u].[UserId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[AccountId], [u0].[Address], [u0].[BankUserId], [u0].[DateOfBirth], [u0].[KycVierified]
    FROM [Users] AS [u0]
    WHERE [u0].[Discriminator] = N'ClientUser'
) AS [t0] ON [t].[UserId] = [t0].[BankUserId]
ORDER BY [t].[UserId], [t].[BankId0], [t].[RoleId]
2025-11-01 23:04:01.431 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [isActive] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-01 23:04:01.436 +05:30 [INF] BankUser Was Approved!
2025-11-01 23:04:01.438 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.BankUser'.
2025-11-01 23:04:01.440 +05:30 [INF] Executed action Payment_Project_API.Controllers.BankUserController.ApproveBankUser (Payment_Project_API) in 117.8316ms
2025-11-01 23:04:01.443 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BankUserController.ApproveBankUser (Payment_Project_API)'
2025-11-01 23:04:01.444 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7030/api/BankUser/approve/1002 - 200 null application/json; charset=utf-8 178.4529ms
2025-11-01 23:04:27.299 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 54
2025-11-01 23:04:27.322 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:04:27.341 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:04:27.343 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:04:27.345 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 23:04:27.350 +05:30 [INF] Login Started
2025-11-01 23:04:27.355 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 23:04:27.462 +05:30 [INF] Login Sucessfull
2025-11-01 23:04:27.463 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 23:04:27.466 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 119.4209ms
2025-11-01 23:04:27.469 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:04:27.471 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 173.0919ms
2025-11-01 23:06:21.487 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/ClientUser - application/json 264
2025-11-01 23:06:21.500 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:06:21.502 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:06:21.505 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.ClientUserController.CreateClientUser (Payment_Project_API)'
2025-11-01 23:06:21.513 +05:30 [INF] Route matched with {action = "CreateClientUser", controller = "ClientUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateClientUser(Payment_Project_API.DTOs.RegisterClientUserDTO) on controller Payment_Project_API.Controllers.ClientUserController (Payment_Project_API).
2025-11-01 23:06:21.525 +05:30 [INF] CreateClientUser started!
2025-11-01 23:06:21.541 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_UserEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Discriminator] = N'ClientUser' AND [u].[UserEmail] = @__user_UserEmail_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 23:06:21.550 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_UserPhone_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Discriminator] = N'ClientUser' AND [u].[UserPhone] = @__user_UserPhone_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 23:06:21.594 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__bankId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Discriminator] = N'BankUser' AND [u].[BankId] = @__bankId_0
2025-11-01 23:06:21.600 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__bankId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Discriminator] = N'BankUser' AND [u].[BankId] = @__bankId_0
2025-11-01 23:06:21.611 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-01 23:06:21.645 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__bankId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[Branch], [t].[RefferalCode], [t].[isActive], [t].[BankId0], [t].[BankName], [t].[CreatedAt], [t].[IFSC], [t].[IsActive0], [t].[RoleId], [t].[Role], [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified], [t0].[BankId0], [t0].[BankName], [t0].[CreatedAt], [t0].[IFSC], [t0].[IsActive]
FROM (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [b].[BankId] AS [BankId0], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive] AS [IsActive0], [r].[RoleId], [r].[Role]
    FROM [Users] AS [u]
    INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
    INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
    WHERE [u].[Discriminator] = N'BankUser' AND [u].[BankId] = @__bankId_0
    ORDER BY (SELECT 1)
    OFFSET @__p_1 ROWS FETCH NEXT 1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[AccountId], [u0].[Address], [u0].[BankUserId], [u0].[DateOfBirth], [u0].[KycVierified], [b0].[BankId] AS [BankId0], [b0].[BankName], [b0].[CreatedAt], [b0].[IFSC], [b0].[IsActive]
    FROM [Users] AS [u0]
    INNER JOIN [Banks] AS [b0] ON [u0].[BankId] = [b0].[BankId]
    WHERE [u0].[Discriminator] = N'ClientUser'
) AS [t0] ON [t].[UserId] = [t0].[BankUserId]
ORDER BY [t].[UserId], [t].[BankId0], [t].[RoleId], [t0].[UserId]
2025-11-01 23:06:21.780 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (Size = 13), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccountId], [Address], [BankId], [BankUserId], [DateOfBirth], [Discriminator], [KycVierified], [Password], [UserEmail], [UserFullName], [UserJoiningDate], [UserName], [UserPhone], [UserRoleId])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-01 23:06:21.825 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__id_0
2025-11-01 23:06:23.866 +05:30 [INF] Creation Successful!
2025-11-01 23:06:23.868 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.ClientUserResponseDTO'.
2025-11-01 23:06:23.875 +05:30 [INF] Executed action Payment_Project_API.Controllers.ClientUserController.CreateClientUser (Payment_Project_API) in 2358.4956ms
2025-11-01 23:06:23.877 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.ClientUserController.CreateClientUser (Payment_Project_API)'
2025-11-01 23:06:23.879 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/ClientUser - 200 null application/json; charset=utf-8 2392.8429ms
2025-11-01 23:07:13.150 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/ClientUser/2003 - null null
2025-11-01 23:07:13.164 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.ClientUserController.GetClientUserById (Payment_Project_API)'
2025-11-01 23:07:13.232 +05:30 [INF] Route matched with {action = "GetClientUserById", controller = "ClientUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClientUserById(Int32) on controller Payment_Project_API.Controllers.ClientUserController (Payment_Project_API).
2025-11-01 23:07:13.244 +05:30 [INF] GetClientUserById started!
2025-11-01 23:07:13.299 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 23:07:13.336 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified], [t0].[RoleId], [t0].[Role], [t0].[AccountId0], [t0].[AccountNumber], [t0].[AccountStatusId], [t0].[AccountTypeId], [t0].[Balance], [t0].[BankId0], [t0].[ClientId], [t0].[CreatedAt], [t0].[TransactionIds], [t0].[UserId0], [t0].[BankId2], [d].[DocumentId], [d].[ClientId], [d].[DocumentName], [d].[DocumentURL], [d].[ProofTypeId], [d].[PublicId], [e].[EmployeeId], [e].[AccountNumber], [e].[BankName], [e].[ClientId], [e].[EmployeeName], [e].[IFSC], [e].[IsActive], [e].[Salary], [e].[SalaryDisbursementId], [b0].[BeneficiaryId], [b0].[AccountNumber], [b0].[BankName], [b0].[BeneficiaryName], [b0].[ClientId], [b0].[ClientUserUserId], [b0].[IFSC], [t0].[BankId1], [t0].[Discriminator0], [t0].[Password0], [t0].[UserEmail0], [t0].[UserFullName0], [t0].[UserJoiningDate0], [t0].[UserName0], [t0].[UserPhone0], [t0].[UserRoleId0], [t0].[Branch], [t0].[RefferalCode], [t0].[isActive], [t0].[BankName], [t0].[CreatedAt0], [t0].[IFSC], [t0].[IsActive0]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role], [a].[AccountId] AS [AccountId0], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId] AS [BankId0], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId] AS [UserId0], [t].[BankId] AS [BankId1], [t].[Discriminator] AS [Discriminator0], [t].[Password] AS [Password0], [t].[UserEmail] AS [UserEmail0], [t].[UserFullName] AS [UserFullName0], [t].[UserJoiningDate] AS [UserJoiningDate0], [t].[UserName] AS [UserName0], [t].[UserPhone] AS [UserPhone0], [t].[UserRoleId] AS [UserRoleId0], [t].[Branch], [t].[RefferalCode], [t].[isActive], [b].[BankId] AS [BankId2], [b].[BankName], [b].[CreatedAt] AS [CreatedAt0], [b].[IFSC], [b].[IsActive] AS [IsActive0]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
    LEFT JOIN [Accounts] AS [a] ON [u].[AccountId] = [a].[AccountId]
    LEFT JOIN (
        SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[Branch], [u0].[RefferalCode], [u0].[isActive]
        FROM [Users] AS [u0]
        WHERE [u0].[Discriminator] = N'BankUser'
    ) AS [t] ON [u].[BankUserId] = [t].[UserId]
    INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
    WHERE [u].[Discriminator] = N'ClientUser' AND [u].[UserId] = @__id_0
) AS [t0]
LEFT JOIN [Documents] AS [d] ON [t0].[UserId] = [d].[ClientId]
LEFT JOIN [Employees] AS [e] ON [t0].[UserId] = [e].[ClientId]
LEFT JOIN [Beneficiaries] AS [b0] ON [t0].[UserId] = [b0].[ClientUserUserId]
ORDER BY [t0].[UserId], [t0].[RoleId], [t0].[AccountId0], [t0].[UserId0], [t0].[BankId2], [d].[DocumentId], [e].[EmployeeId]
2025-11-01 23:07:13.348 +05:30 [INF] Client user was Dispalyed
2025-11-01 23:07:13.350 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.ClientUser'.
2025-11-01 23:07:13.353 +05:30 [INF] Executed action Payment_Project_API.Controllers.ClientUserController.GetClientUserById (Payment_Project_API) in 112.6856ms
2025-11-01 23:07:13.363 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.ClientUserController.GetClientUserById (Payment_Project_API)'
2025-11-01 23:07:13.366 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/ClientUser/2003 - 200 null application/json; charset=utf-8 215.5048ms
2025-11-01 23:07:41.915 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7030/api/ClientUser/approve/2003 - application/json 1857
2025-11-01 23:07:41.935 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:07:41.937 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:07:41.939 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.ClientUserController.ApproveClientUser (Payment_Project_API)'
2025-11-01 23:07:41.946 +05:30 [INF] Route matched with {action = "ApproveClientUser", controller = "ClientUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveClientUser(Int32, Payment_Project_API.Models.ClientUser) on controller Payment_Project_API.Controllers.ClientUserController (Payment_Project_API).
2025-11-01 23:07:41.956 +05:30 [INF] ApproveClientUser started!
2025-11-01 23:07:41.979 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[AccountNumber] = @__accountNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 23:07:42.067 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([AccountNumber], [AccountStatusId], [AccountTypeId], [Balance], [BankId], [ClientId], [CreatedAt], [TransactionIds])
OUTPUT INSERTED.[AccountId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-01 23:07:42.086 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified], [t0].[RoleId], [t0].[Role], [t0].[AccountId0], [t0].[AccountNumber], [t0].[AccountStatusId], [t0].[AccountTypeId], [t0].[Balance], [t0].[BankId0], [t0].[ClientId], [t0].[CreatedAt], [t0].[TransactionIds], [t0].[UserId0], [t0].[BankId2], [d].[DocumentId], [d].[ClientId], [d].[DocumentName], [d].[DocumentURL], [d].[ProofTypeId], [d].[PublicId], [e].[EmployeeId], [e].[AccountNumber], [e].[BankName], [e].[ClientId], [e].[EmployeeName], [e].[IFSC], [e].[IsActive], [e].[Salary], [e].[SalaryDisbursementId], [b0].[BeneficiaryId], [b0].[AccountNumber], [b0].[BankName], [b0].[BeneficiaryName], [b0].[ClientId], [b0].[ClientUserUserId], [b0].[IFSC], [t0].[BankId1], [t0].[Discriminator0], [t0].[Password0], [t0].[UserEmail0], [t0].[UserFullName0], [t0].[UserJoiningDate0], [t0].[UserName0], [t0].[UserPhone0], [t0].[UserRoleId0], [t0].[Branch], [t0].[RefferalCode], [t0].[isActive], [t0].[BankName], [t0].[CreatedAt0], [t0].[IFSC], [t0].[IsActive0]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role], [a].[AccountId] AS [AccountId0], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId] AS [BankId0], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId] AS [UserId0], [t].[BankId] AS [BankId1], [t].[Discriminator] AS [Discriminator0], [t].[Password] AS [Password0], [t].[UserEmail] AS [UserEmail0], [t].[UserFullName] AS [UserFullName0], [t].[UserJoiningDate] AS [UserJoiningDate0], [t].[UserName] AS [UserName0], [t].[UserPhone] AS [UserPhone0], [t].[UserRoleId] AS [UserRoleId0], [t].[Branch], [t].[RefferalCode], [t].[isActive], [b].[BankId] AS [BankId2], [b].[BankName], [b].[CreatedAt] AS [CreatedAt0], [b].[IFSC], [b].[IsActive] AS [IsActive0]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
    LEFT JOIN [Accounts] AS [a] ON [u].[AccountId] = [a].[AccountId]
    LEFT JOIN (
        SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[Branch], [u0].[RefferalCode], [u0].[isActive]
        FROM [Users] AS [u0]
        WHERE [u0].[Discriminator] = N'BankUser'
    ) AS [t] ON [u].[BankUserId] = [t].[UserId]
    INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
    WHERE [u].[Discriminator] = N'ClientUser' AND [u].[UserId] = @__id_0
) AS [t0]
LEFT JOIN [Documents] AS [d] ON [t0].[UserId] = [d].[ClientId]
LEFT JOIN [Employees] AS [e] ON [t0].[UserId] = [e].[ClientId]
LEFT JOIN [Beneficiaries] AS [b0] ON [t0].[UserId] = [b0].[ClientUserUserId]
ORDER BY [t0].[UserId], [t0].[RoleId], [t0].[AccountId0], [t0].[UserId0], [t0].[BankId2], [d].[DocumentId], [e].[EmployeeId]
2025-11-01 23:07:42.102 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [AccountId] = @p0, [KycVierified] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-01 23:07:42.109 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__id_0
2025-11-01 23:07:43.898 +05:30 [INF] Client Was Approved!
2025-11-01 23:07:43.900 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.ClientUser'.
2025-11-01 23:07:43.909 +05:30 [INF] Executed action Payment_Project_API.Controllers.ClientUserController.ApproveClientUser (Payment_Project_API) in 1960.1848ms
2025-11-01 23:07:43.912 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.ClientUserController.ApproveClientUser (Payment_Project_API)'
2025-11-01 23:07:43.916 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7030/api/ClientUser/approve/2003 - 200 null application/json; charset=utf-8 2003.9084ms
2025-11-01 23:09:01.474 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - null null
2025-11-01 23:09:01.488 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AccountController.GetAllAccounts (Payment_Project_API)'
2025-11-01 23:09:01.497 +05:30 [INF] Route matched with {action = "GetAllAccounts", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAccounts(System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Double], System.Nullable`1[System.Double], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller Payment_Project_API.Controllers.AccountController (Payment_Project_API).
2025-11-01 23:09:01.510 +05:30 [INF] GetAllAccounts Started
2025-11-01 23:09:01.529 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Accounts] AS [a]
2025-11-01 23:09:01.548 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-01 23:09:01.552 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-01 23:09:01.586 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AccountId], [t].[AccountNumber], [t].[AccountStatusId], [t].[AccountTypeId], [t].[Balance], [t].[BankId], [t].[ClientId], [t].[CreatedAt], [t].[TransactionIds], [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a0].[TypeId], [a0].[Type], [a1].[StatusId], [a1].[Status]
FROM (
    SELECT [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds]
    FROM [Accounts] AS [a]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t0] ON [t].[ClientId] = [t0].[UserId]
INNER JOIN [Banks] AS [b] ON [t].[BankId] = [b].[BankId]
INNER JOIN [AccountTypes] AS [a0] ON [t].[AccountTypeId] = [a0].[TypeId]
INNER JOIN [AccountStatuses] AS [a1] ON [t].[AccountStatusId] = [a1].[StatusId]
2025-11-01 23:09:01.611 +05:30 [INF] GetAllAccounts succeeded. Returned 3 accounts
2025-11-01 23:09:01.614 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Collections.Generic.IEnumerable`1[[Payment_Project_API.DTOs.AccountResponseDTO, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-01 23:09:01.626 +05:30 [INF] Executed action Payment_Project_API.Controllers.AccountController.GetAllAccounts (Payment_Project_API) in 125.2354ms
2025-11-01 23:09:01.629 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AccountController.GetAllAccounts (Payment_Project_API)'
2025-11-01 23:09:01.631 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 156.8378ms
2025-11-01 23:09:57.128 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Account - application/json 147
2025-11-01 23:09:57.141 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:09:57.143 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:09:57.145 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 23:09:57.152 +05:30 [INF] Route matched with {action = "CreateAccount", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAccount(Payment_Project_API.DTOs.RegisterAccountDTO) on controller Payment_Project_API.Controllers.AccountController (Payment_Project_API).
2025-11-01 23:09:57.164 +05:30 [INF] CreateAccount started.
2025-11-01 23:09:57.175 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[AccountNumber] = @__accountNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 23:09:57.191 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([AccountNumber], [AccountStatusId], [AccountTypeId], [Balance], [BankId], [ClientId], [CreatedAt], [TransactionIds])
OUTPUT INSERTED.[AccountId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-01 23:09:57.215 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Payment_Project_API.Data.BankingPaymentsDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c6d2afc4-586b-4fe0-8cff-69bd7c4a4bfd
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c6d2afc4-586b-4fe0-8cff-69bd7c4a4bfd
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-01 23:09:57.567 +05:30 [INF] Executed action Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API) in 412.1528ms
2025-11-01 23:09:57.571 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 23:09:57.779 +05:30 [ERR] Unhandled exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c6d2afc4-586b-4fe0-8cff-69bd7c4a4bfd
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Payment_Project_API.Repositories.AccountRepository.Add(Account account) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Repositories\AccountRepository.cs:line 23
   at Payment_Project_API.Services.AccountService.Add(Account account) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Services\AccountService.cs:line 74
   at Payment_Project_API.Controllers.AccountController.CreateAccount(RegisterAccountDTO dto) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Controllers\AccountController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Exception\GlobalExceptionHandler.cs:line 18
2025-11-01 23:09:57.818 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Account - 500 null application/json; charset=utf-8 691.6205ms
2025-11-01 23:10:21.830 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 50
2025-11-01 23:10:21.846 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:10:21.859 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:10:21.864 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:10:21.866 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 23:10:21.869 +05:30 [INF] Login Started
2025-11-01 23:10:21.873 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 23:10:21.980 +05:30 [INF] Login Sucessfull
2025-11-01 23:10:21.982 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 23:10:21.985 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 116.3743ms
2025-11-01 23:10:21.987 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:10:21.989 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 159.3992ms
2025-11-01 23:10:44.530 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Account - application/json 147
2025-11-01 23:10:44.545 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:10:44.548 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:10:44.553 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 23:10:44.556 +05:30 [INF] Route matched with {action = "CreateAccount", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAccount(Payment_Project_API.DTOs.RegisterAccountDTO) on controller Payment_Project_API.Controllers.AccountController (Payment_Project_API).
2025-11-01 23:10:44.561 +05:30 [INF] CreateAccount started.
2025-11-01 23:10:44.570 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[AccountNumber] = @__accountNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 23:10:44.580 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([AccountNumber], [AccountStatusId], [AccountTypeId], [Balance], [BankId], [ClientId], [CreatedAt], [TransactionIds])
OUTPUT INSERTED.[AccountId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-01 23:10:44.590 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Payment_Project_API.Data.BankingPaymentsDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c6d2afc4-586b-4fe0-8cff-69bd7c4a4bfd
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c6d2afc4-586b-4fe0-8cff-69bd7c4a4bfd
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-01 23:10:44.884 +05:30 [INF] Executed action Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API) in 323.9852ms
2025-11-01 23:10:44.887 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 23:10:45.011 +05:30 [ERR] Unhandled exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c6d2afc4-586b-4fe0-8cff-69bd7c4a4bfd
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Payment_Project_API.Repositories.AccountRepository.Add(Account account) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Repositories\AccountRepository.cs:line 23
   at Payment_Project_API.Services.AccountService.Add(Account account) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Services\AccountService.cs:line 74
   at Payment_Project_API.Controllers.AccountController.CreateAccount(RegisterAccountDTO dto) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Controllers\AccountController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Exception\GlobalExceptionHandler.cs:line 18
2025-11-01 23:10:45.032 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Account - 500 null application/json; charset=utf-8 503.1211ms
2025-11-01 23:11:15.873 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Account - application/json 148
2025-11-01 23:11:15.886 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:11:15.887 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:11:15.929 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 23:11:15.935 +05:30 [INF] Route matched with {action = "CreateAccount", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAccount(Payment_Project_API.DTOs.RegisterAccountDTO) on controller Payment_Project_API.Controllers.AccountController (Payment_Project_API).
2025-11-01 23:11:15.938 +05:30 [INF] CreateAccount started.
2025-11-01 23:11:15.948 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[AccountNumber] = @__accountNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 23:11:15.966 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([AccountNumber], [AccountStatusId], [AccountTypeId], [Balance], [BankId], [ClientId], [CreatedAt], [TransactionIds])
OUTPUT INSERTED.[AccountId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-01 23:11:15.975 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Payment_Project_API.Data.BankingPaymentsDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c6d2afc4-586b-4fe0-8cff-69bd7c4a4bfd
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c6d2afc4-586b-4fe0-8cff-69bd7c4a4bfd
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-01 23:11:16.226 +05:30 [INF] Executed action Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API) in 288.7674ms
2025-11-01 23:11:16.229 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 23:11:16.334 +05:30 [ERR] Unhandled exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c6d2afc4-586b-4fe0-8cff-69bd7c4a4bfd
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Payment_Project_API.Repositories.AccountRepository.Add(Account account) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Repositories\AccountRepository.cs:line 23
   at Payment_Project_API.Services.AccountService.Add(Account account) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Services\AccountService.cs:line 74
   at Payment_Project_API.Controllers.AccountController.CreateAccount(RegisterAccountDTO dto) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Controllers\AccountController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Exception\GlobalExceptionHandler.cs:line 18
2025-11-01 23:11:16.354 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Account - 500 null application/json; charset=utf-8 481.7583ms
2025-11-01 23:11:54.022 +05:30 [INF] User profile is available. Using 'C:\Users\anurag.kawade\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-01 23:11:54.454 +05:30 [INF] Now listening on: https://localhost:7030
2025-11-01 23:11:54.456 +05:30 [INF] Now listening on: http://localhost:5086
2025-11-01 23:11:54.584 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-01 23:11:54.587 +05:30 [INF] Hosting environment: Development
2025-11-01 23:11:54.589 +05:30 [INF] Content root path: D:\CapstoneProject_BankingApp\code\Payment_Project_API
2025-11-01 23:11:55.436 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/index.html - null null
2025-11-01 23:11:55.755 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/index.html - 200 null text/html;charset=utf-8 333.6915ms
2025-11-01 23:11:55.764 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - null null
2025-11-01 23:11:55.778 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 14.1453ms
2025-11-01 23:11:55.814 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/_vs/browserLink - null null
2025-11-01 23:11:55.874 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.7855ms
2025-11-01 23:11:55.924 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - null null
2025-11-01 23:11:55.985 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.3678ms
2025-11-01 23:12:04.042 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - null null
2025-11-01 23:12:04.282 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (BANK_USER|ADMIN)
2025-11-01 23:12:04.288 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-11-01 23:12:04.291 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - 403 0 null 249.2768ms
2025-11-01 23:12:27.193 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 54
2025-11-01 23:12:27.214 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:12:27.217 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:12:27.227 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:12:27.265 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 23:12:27.529 +05:30 [INF] Login Started
2025-11-01 23:12:28.213 +05:30 [WRN] Navigations 'Account.ClientUser' and 'ClientUser.Account' were separated into two relationships since the [ForeignKey] attribute was specified on properties 'ClientId' and 'AccountId' on both sides.
2025-11-01 23:12:28.580 +05:30 [WRN] No store type was specified for the decimal property 'TotalAmount' on entity type 'SalaryDisbursement'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-01 23:12:28.584 +05:30 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'SalaryDisbursementDetails'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-11-01 23:12:29.644 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 23:12:29.888 +05:30 [INF] Login Sucessfull
2025-11-01 23:12:29.895 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 23:12:29.964 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 2688.6733ms
2025-11-01 23:12:29.967 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:12:29.982 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 2789.7346ms
2025-11-01 23:12:52.153 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - null null
2025-11-01 23:12:52.191 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AccountController.GetAllAccounts (Payment_Project_API)'
2025-11-01 23:12:52.202 +05:30 [INF] Route matched with {action = "GetAllAccounts", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAccounts(System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Double], System.Nullable`1[System.Double], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller Payment_Project_API.Controllers.AccountController (Payment_Project_API).
2025-11-01 23:12:52.340 +05:30 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-01 23:12:52.354 +05:30 [INF] GetAllAccounts Started
2025-11-01 23:12:52.470 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Accounts] AS [a]
2025-11-01 23:12:52.506 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-01 23:12:52.509 +05:30 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-11-01 23:12:52.576 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AccountId], [t].[AccountNumber], [t].[AccountStatusId], [t].[AccountTypeId], [t].[Balance], [t].[BankId], [t].[ClientId], [t].[CreatedAt], [t].[TransactionIds], [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a0].[TypeId], [a0].[Type], [a1].[StatusId], [a1].[Status]
FROM (
    SELECT [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds]
    FROM [Accounts] AS [a]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t0] ON [t].[ClientId] = [t0].[UserId]
INNER JOIN [Banks] AS [b] ON [t].[BankId] = [b].[BankId]
INNER JOIN [AccountTypes] AS [a0] ON [t].[AccountTypeId] = [a0].[TypeId]
INNER JOIN [AccountStatuses] AS [a1] ON [t].[AccountStatusId] = [a1].[StatusId]
2025-11-01 23:12:52.671 +05:30 [INF] GetAllAccounts succeeded. Returned 3 accounts
2025-11-01 23:12:52.678 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Collections.Generic.IEnumerable`1[[Payment_Project_API.DTOs.AccountResponseDTO, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-01 23:12:52.695 +05:30 [INF] Executed action Payment_Project_API.Controllers.AccountController.GetAllAccounts (Payment_Project_API) in 488.5612ms
2025-11-01 23:12:52.699 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AccountController.GetAllAccounts (Payment_Project_API)'
2025-11-01 23:12:52.702 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 549.7317ms
2025-11-01 23:13:45.843 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Account - application/json 145
2025-11-01 23:13:45.849 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:13:45.850 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:13:45.854 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 23:13:45.888 +05:30 [INF] Route matched with {action = "CreateAccount", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAccount(Payment_Project_API.DTOs.RegisterAccountDTO) on controller Payment_Project_API.Controllers.AccountController (Payment_Project_API).
2025-11-01 23:13:45.908 +05:30 [INF] CreateAccount started.
2025-11-01 23:13:45.999 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Accounts] AS [a]
        WHERE [a].[AccountNumber] = @__accountNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-01 23:13:46.172 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([AccountNumber], [AccountStatusId], [AccountTypeId], [Balance], [BankId], [ClientId], [CreatedAt], [TransactionIds])
OUTPUT INSERTED.[AccountId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-11-01 23:13:46.233 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Payment_Project_API.Data.BankingPaymentsDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee230a5-4c15-4e48-b961-379fa6279e3d
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee230a5-4c15-4e48-b961-379fa6279e3d
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-01 23:13:46.594 +05:30 [INF] Executed action Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API) in 700.2842ms
2025-11-01 23:13:46.597 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AccountController.CreateAccount (Payment_Project_API)'
2025-11-01 23:13:46.799 +05:30 [ERR] Unhandled exception: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Accounts' with unique index 'IX_Accounts_ClientId'. The duplicate key value is (2003).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3ee230a5-4c15-4e48-b961-379fa6279e3d
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Payment_Project_API.Repositories.AccountRepository.Add(Account account) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Repositories\AccountRepository.cs:line 23
   at Payment_Project_API.Services.AccountService.Add(Account account) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Services\AccountService.cs:line 74
   at Payment_Project_API.Controllers.AccountController.CreateAccount(RegisterAccountDTO dto) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Controllers\AccountController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at GlobalExceptionMiddleware.InvokeAsync(HttpContext context) in D:\CapstoneProject_BankingApp\code\Payment_Project_API\Exception\GlobalExceptionHandler.cs:line 18
2025-11-01 23:13:46.845 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Account - 500 null application/json; charset=utf-8 1002.5067ms
2025-11-01 23:16:17.831 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 50
2025-11-01 23:16:17.855 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:16:17.858 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:16:17.861 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:16:17.864 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 23:16:17.870 +05:30 [INF] Login Started
2025-11-01 23:16:17.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 23:16:17.980 +05:30 [INF] Login Sucessfull
2025-11-01 23:16:17.982 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 23:16:17.985 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 117.0513ms
2025-11-01 23:16:17.996 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:16:17.998 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 166.7666ms
2025-11-01 23:17:26.231 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Beneficiary - application/json 141
2025-11-01 23:17:26.243 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:17:26.244 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:17:26.269 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BeneficiaryController.CreateBeneficiary (Payment_Project_API)'
2025-11-01 23:17:26.280 +05:30 [INF] Route matched with {action = "CreateBeneficiary", controller = "Beneficiary"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBeneficiary(Payment_Project_API.DTOs.BeneficiaryDTO) on controller Payment_Project_API.Controllers.BeneficiaryController (Payment_Project_API).
2025-11-01 23:17:26.293 +05:30 [INF] CreateBeneficiary started!
2025-11-01 23:17:26.361 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-01 23:17:26.390 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified], [t0].[RoleId], [t0].[Role], [t0].[AccountId0], [t0].[AccountNumber], [t0].[AccountStatusId], [t0].[AccountTypeId], [t0].[Balance], [t0].[BankId0], [t0].[ClientId], [t0].[CreatedAt], [t0].[TransactionIds], [t0].[UserId0], [t0].[BankId2], [d].[DocumentId], [d].[ClientId], [d].[DocumentName], [d].[DocumentURL], [d].[ProofTypeId], [d].[PublicId], [e].[EmployeeId], [e].[AccountNumber], [e].[BankName], [e].[ClientId], [e].[EmployeeName], [e].[IFSC], [e].[IsActive], [e].[Salary], [e].[SalaryDisbursementId], [b0].[BeneficiaryId], [b0].[AccountNumber], [b0].[BankName], [b0].[BeneficiaryName], [b0].[ClientId], [b0].[ClientUserUserId], [b0].[IFSC], [t0].[BankId1], [t0].[Discriminator0], [t0].[Password0], [t0].[UserEmail0], [t0].[UserFullName0], [t0].[UserJoiningDate0], [t0].[UserName0], [t0].[UserPhone0], [t0].[UserRoleId0], [t0].[Branch], [t0].[RefferalCode], [t0].[isActive], [t0].[BankName], [t0].[CreatedAt0], [t0].[IFSC], [t0].[IsActive0]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role], [a].[AccountId] AS [AccountId0], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId] AS [BankId0], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId] AS [UserId0], [t].[BankId] AS [BankId1], [t].[Discriminator] AS [Discriminator0], [t].[Password] AS [Password0], [t].[UserEmail] AS [UserEmail0], [t].[UserFullName] AS [UserFullName0], [t].[UserJoiningDate] AS [UserJoiningDate0], [t].[UserName] AS [UserName0], [t].[UserPhone] AS [UserPhone0], [t].[UserRoleId] AS [UserRoleId0], [t].[Branch], [t].[RefferalCode], [t].[isActive], [b].[BankId] AS [BankId2], [b].[BankName], [b].[CreatedAt] AS [CreatedAt0], [b].[IFSC], [b].[IsActive] AS [IsActive0]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
    LEFT JOIN [Accounts] AS [a] ON [u].[AccountId] = [a].[AccountId]
    LEFT JOIN (
        SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[Branch], [u0].[RefferalCode], [u0].[isActive]
        FROM [Users] AS [u0]
        WHERE [u0].[Discriminator] = N'BankUser'
    ) AS [t] ON [u].[BankUserId] = [t].[UserId]
    INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
    WHERE [u].[Discriminator] = N'ClientUser' AND [u].[UserId] = @__id_0
) AS [t0]
LEFT JOIN [Documents] AS [d] ON [t0].[UserId] = [d].[ClientId]
LEFT JOIN [Employees] AS [e] ON [t0].[UserId] = [e].[ClientId]
LEFT JOIN [Beneficiaries] AS [b0] ON [t0].[UserId] = [b0].[ClientUserUserId]
ORDER BY [t0].[UserId], [t0].[RoleId], [t0].[AccountId0], [t0].[UserId0], [t0].[BankId2], [d].[DocumentId], [e].[EmployeeId]
2025-11-01 23:17:26.497 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Beneficiaries] ([AccountNumber], [BankName], [BeneficiaryName], [ClientId], [ClientUserUserId], [IFSC])
OUTPUT INSERTED.[BeneficiaryId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-11-01 23:17:26.530 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified], [t0].[RoleId], [t0].[Role], [t0].[AccountId0], [t0].[AccountNumber], [t0].[AccountStatusId], [t0].[AccountTypeId], [t0].[Balance], [t0].[BankId0], [t0].[ClientId], [t0].[CreatedAt], [t0].[TransactionIds], [t0].[UserId0], [t0].[BankId2], [d].[DocumentId], [d].[ClientId], [d].[DocumentName], [d].[DocumentURL], [d].[ProofTypeId], [d].[PublicId], [e].[EmployeeId], [e].[AccountNumber], [e].[BankName], [e].[ClientId], [e].[EmployeeName], [e].[IFSC], [e].[IsActive], [e].[Salary], [e].[SalaryDisbursementId], [b0].[BeneficiaryId], [b0].[AccountNumber], [b0].[BankName], [b0].[BeneficiaryName], [b0].[ClientId], [b0].[ClientUserUserId], [b0].[IFSC], [t0].[BankId1], [t0].[Discriminator0], [t0].[Password0], [t0].[UserEmail0], [t0].[UserFullName0], [t0].[UserJoiningDate0], [t0].[UserName0], [t0].[UserPhone0], [t0].[UserRoleId0], [t0].[Branch], [t0].[RefferalCode], [t0].[isActive], [t0].[BankName], [t0].[CreatedAt0], [t0].[IFSC], [t0].[IsActive0]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role], [a].[AccountId] AS [AccountId0], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId] AS [BankId0], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId] AS [UserId0], [t].[BankId] AS [BankId1], [t].[Discriminator] AS [Discriminator0], [t].[Password] AS [Password0], [t].[UserEmail] AS [UserEmail0], [t].[UserFullName] AS [UserFullName0], [t].[UserJoiningDate] AS [UserJoiningDate0], [t].[UserName] AS [UserName0], [t].[UserPhone] AS [UserPhone0], [t].[UserRoleId] AS [UserRoleId0], [t].[Branch], [t].[RefferalCode], [t].[isActive], [b].[BankId] AS [BankId2], [b].[BankName], [b].[CreatedAt] AS [CreatedAt0], [b].[IFSC], [b].[IsActive] AS [IsActive0]
    FROM [Users] AS [u]
    INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
    LEFT JOIN [Accounts] AS [a] ON [u].[AccountId] = [a].[AccountId]
    LEFT JOIN (
        SELECT [u0].[UserId], [u0].[BankId], [u0].[Discriminator], [u0].[Password], [u0].[UserEmail], [u0].[UserFullName], [u0].[UserJoiningDate], [u0].[UserName], [u0].[UserPhone], [u0].[UserRoleId], [u0].[Branch], [u0].[RefferalCode], [u0].[isActive]
        FROM [Users] AS [u0]
        WHERE [u0].[Discriminator] = N'BankUser'
    ) AS [t] ON [u].[BankUserId] = [t].[UserId]
    INNER JOIN [Banks] AS [b] ON [u].[BankId] = [b].[BankId]
    WHERE [u].[Discriminator] = N'ClientUser' AND [u].[UserId] = @__id_0
) AS [t0]
LEFT JOIN [Documents] AS [d] ON [t0].[UserId] = [d].[ClientId]
LEFT JOIN [Employees] AS [e] ON [t0].[UserId] = [e].[ClientId]
LEFT JOIN [Beneficiaries] AS [b0] ON [t0].[UserId] = [b0].[ClientUserUserId]
ORDER BY [t0].[UserId], [t0].[RoleId], [t0].[AccountId0], [t0].[UserId0], [t0].[BankId2], [d].[DocumentId], [e].[EmployeeId]
2025-11-01 23:17:26.576 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Beneficiaries] SET [ClientUserUserId] = @p0
OUTPUT 1
WHERE [BeneficiaryId] = @p1;
2025-11-01 23:17:26.582 +05:30 [INF] Beneficiary was created
2025-11-01 23:17:26.584 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'Payment_Project_API.Models.Beneficiary'.
2025-11-01 23:17:26.609 +05:30 [INF] Executed action Payment_Project_API.Controllers.BeneficiaryController.CreateBeneficiary (Payment_Project_API) in 324.7235ms
2025-11-01 23:17:26.613 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BeneficiaryController.CreateBeneficiary (Payment_Project_API)'
2025-11-01 23:17:26.615 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Beneficiary - 201 null application/json; charset=utf-8 386.2987ms
2025-11-01 23:26:56.833 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7030/api/Account/addBalance/3 - application/json 5
2025-11-01 23:26:56.844 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:26:56.845 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:26:56.848 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AccountController.AddBalanceToAccount (Payment_Project_API)'
2025-11-01 23:26:56.855 +05:30 [INF] Route matched with {action = "AddBalanceToAccount", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBalanceToAccount(Int32, Double) on controller Payment_Project_API.Controllers.AccountController (Payment_Project_API).
2025-11-01 23:26:56.870 +05:30 [INF] AddBalanceToAccount started
2025-11-01 23:26:56.940 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [a0].[StatusId], [a0].[Status], [a1].[TypeId], [a1].[Type], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
FROM [Accounts] AS [a]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [AccountStatuses] AS [a0] ON [a].[AccountStatusId] = [a0].[StatusId]
INNER JOIN [AccountTypes] AS [a1] ON [a].[AccountTypeId] = [a1].[TypeId]
INNER JOIN [Banks] AS [b] ON [a].[BankId] = [b].[BankId]
WHERE [a].[AccountId] = @__id_0
2025-11-01 23:26:56.951 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [a0].[StatusId], [a0].[Status], [a1].[TypeId], [a1].[Type], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
FROM [Accounts] AS [a]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [AccountStatuses] AS [a0] ON [a].[AccountStatusId] = [a0].[StatusId]
INNER JOIN [AccountTypes] AS [a1] ON [a].[AccountTypeId] = [a1].[TypeId]
INNER JOIN [Banks] AS [b] ON [a].[BankId] = [b].[BankId]
WHERE [a].[AccountId] = @__id_0
2025-11-01 23:26:57.030 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Double), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Accounts] SET [Balance] = @p0
OUTPUT 1
WHERE [AccountId] = @p1;
INSERT INTO [Transactions] ([AccountId], [Amount], [CreatedAt], [PaymentId], [SalaryDisbursementId], [ToFrom], [TransactionTypeId])
OUTPUT INSERTED.[TransactionId]
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-11-01 23:26:57.081 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [a0].[StatusId], [a0].[Status], [a1].[TypeId], [a1].[Type], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
FROM [Accounts] AS [a]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [AccountStatuses] AS [a0] ON [a].[AccountStatusId] = [a0].[StatusId]
INNER JOIN [AccountTypes] AS [a1] ON [a].[AccountTypeId] = [a1].[TypeId]
INNER JOIN [Banks] AS [b] ON [a].[BankId] = [b].[BankId]
WHERE [a].[AccountId] = @__id_0
2025-11-01 23:26:57.113 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__id_0
2025-11-01 23:26:59.302 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.Transaction'.
2025-11-01 23:26:59.317 +05:30 [INF] Executed action Payment_Project_API.Controllers.AccountController.AddBalanceToAccount (Payment_Project_API) in 2458.7562ms
2025-11-01 23:26:59.320 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AccountController.AddBalanceToAccount (Payment_Project_API)'
2025-11-01 23:26:59.322 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7030/api/Account/addBalance/3 - 200 null application/json; charset=utf-8 2488.7401ms
2025-11-01 23:27:13.140 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - null null
2025-11-01 23:27:13.145 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (BANK_USER|ADMIN)
2025-11-01 23:27:13.149 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-11-01 23:27:13.151 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - 403 0 null 11.6096ms
2025-11-01 23:27:28.969 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Account/3 - null null
2025-11-01 23:27:28.976 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (BANK_USER|ADMIN)
2025-11-01 23:27:28.978 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-11-01 23:27:28.981 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Account/3 - 403 0 null 12.4824ms
2025-11-01 23:27:46.927 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 54
2025-11-01 23:27:46.933 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:27:46.934 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:27:46.936 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:27:46.938 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 23:27:46.970 +05:30 [INF] Login Started
2025-11-01 23:27:46.977 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 23:27:47.073 +05:30 [INF] Login Sucessfull
2025-11-01 23:27:47.075 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 23:27:47.078 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 114.2926ms
2025-11-01 23:27:47.081 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:27:47.083 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 157.3733ms
2025-11-01 23:28:07.351 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - null null
2025-11-01 23:28:07.364 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AccountController.GetAllAccounts (Payment_Project_API)'
2025-11-01 23:28:07.388 +05:30 [INF] Route matched with {action = "GetAllAccounts", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAccounts(System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Double], System.Nullable`1[System.Double], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller Payment_Project_API.Controllers.AccountController (Payment_Project_API).
2025-11-01 23:28:07.394 +05:30 [INF] GetAllAccounts Started
2025-11-01 23:28:07.406 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Accounts] AS [a]
2025-11-01 23:28:07.431 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[AccountId], [t].[AccountNumber], [t].[AccountStatusId], [t].[AccountTypeId], [t].[Balance], [t].[BankId], [t].[ClientId], [t].[CreatedAt], [t].[TransactionIds], [t0].[UserId], [t0].[BankId], [t0].[Discriminator], [t0].[Password], [t0].[UserEmail], [t0].[UserFullName], [t0].[UserJoiningDate], [t0].[UserName], [t0].[UserPhone], [t0].[UserRoleId], [t0].[AccountId], [t0].[Address], [t0].[BankUserId], [t0].[DateOfBirth], [t0].[KycVierified], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a0].[TypeId], [a0].[Type], [a1].[StatusId], [a1].[Status]
FROM (
    SELECT [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds]
    FROM [Accounts] AS [a]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t0] ON [t].[ClientId] = [t0].[UserId]
INNER JOIN [Banks] AS [b] ON [t].[BankId] = [b].[BankId]
INNER JOIN [AccountTypes] AS [a0] ON [t].[AccountTypeId] = [a0].[TypeId]
INNER JOIN [AccountStatuses] AS [a1] ON [t].[AccountStatusId] = [a1].[StatusId]
2025-11-01 23:28:07.437 +05:30 [INF] GetAllAccounts succeeded. Returned 3 accounts
2025-11-01 23:28:07.439 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Collections.Generic.IEnumerable`1[[Payment_Project_API.DTOs.AccountResponseDTO, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-01 23:28:07.442 +05:30 [INF] Executed action Payment_Project_API.Controllers.AccountController.GetAllAccounts (Payment_Project_API) in 50.9693ms
2025-11-01 23:28:07.446 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AccountController.GetAllAccounts (Payment_Project_API)'
2025-11-01 23:28:07.448 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Account?pageNumber=1&pageSize=10 - 200 null application/json; charset=utf-8 97.8711ms
2025-11-01 23:29:09.690 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 50
2025-11-01 23:29:09.701 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:29:09.702 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:29:09.704 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:29:09.707 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 23:29:09.714 +05:30 [INF] Login Started
2025-11-01 23:29:09.722 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 23:29:09.827 +05:30 [INF] Login Sucessfull
2025-11-01 23:29:09.829 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 23:29:09.832 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 120.6734ms
2025-11-01 23:29:09.841 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:29:09.844 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 153.9618ms
2025-11-01 23:30:12.261 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Beneficiary - null null
2025-11-01 23:30:12.273 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.BeneficiaryController.GetAllBeneficiaries (Payment_Project_API)'
2025-11-01 23:30:12.313 +05:30 [INF] Route matched with {action = "GetAllBeneficiaries", controller = "Beneficiary"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBeneficiaries(System.Nullable`1[System.Int32], System.String, System.String, System.String, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Payment_Project_API.Controllers.BeneficiaryController (Payment_Project_API).
2025-11-01 23:30:12.319 +05:30 [INF] GetAllBeneficiaries started!
2025-11-01 23:30:12.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BeneficiaryId], [b].[AccountNumber], [b].[BankName], [b].[BeneficiaryName], [b].[ClientId], [b].[ClientUserUserId], [b].[IFSC]
FROM [Beneficiaries] AS [b]
2025-11-01 23:30:12.334 +05:30 [INF] beneficiaries displayed!
2025-11-01 23:30:12.336 +05:30 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1[[Payment_Project_API.Models.Beneficiary, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-01 23:30:12.347 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BeneficiaryId], [b].[AccountNumber], [b].[BankName], [b].[BeneficiaryName], [b].[ClientId], [b].[ClientUserUserId], [b].[IFSC]
FROM [Beneficiaries] AS [b]
2025-11-01 23:30:12.375 +05:30 [INF] Executed action Payment_Project_API.Controllers.BeneficiaryController.GetAllBeneficiaries (Payment_Project_API) in 58.6667ms
2025-11-01 23:30:12.379 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.BeneficiaryController.GetAllBeneficiaries (Payment_Project_API)'
2025-11-01 23:30:12.381 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Beneficiary - 200 null application/json; charset=utf-8 119.9826ms
2025-11-01 23:30:40.931 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Payment - null null
2025-11-01 23:30:40.944 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.PaymentController.GetAllPayments (Payment_Project_API)'
2025-11-01 23:30:40.970 +05:30 [INF] Route matched with {action = "GetAllPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPayments(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.String, System.Nullable`1[System.Double], System.Nullable`1[System.Double], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Payment_Project_API.Controllers.PaymentController (Payment_Project_API).
2025-11-01 23:30:40.985 +05:30 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions+IncludableQueryable`2[[Payment_Project_API.Models.Payment, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[Payment_Project_API.Models.Transaction, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-01 23:30:41.066 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PaymentId], [p].[ActionAt], [p].[Amount], [p].[CreatedAt], [p].[PayeeAccountNumber], [p].[PayerAccountId], [p].[PaymentStatusId], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [p0].[StatusId], [p0].[Status], [t0].[TransactionId], [t0].[AccountId], [t0].[Amount], [t0].[CreatedAt], [t0].[PaymentId], [t0].[SalaryDisbursementId], [t0].[ToFrom], [t0].[TransactionTypeId]
FROM [Payments] AS [p]
INNER JOIN [Accounts] AS [a] ON [p].[PayerAccountId] = [a].[AccountId]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [PaymentStatuses] AS [p0] ON [p].[PaymentStatusId] = [p0].[StatusId]
LEFT JOIN [Transactions] AS [t0] ON [p].[PaymentId] = [t0].[PaymentId]
ORDER BY [p].[PaymentId], [a].[AccountId], [t].[UserId], [p0].[StatusId]
2025-11-01 23:30:41.105 +05:30 [INF] Executed action Payment_Project_API.Controllers.PaymentController.GetAllPayments (Payment_Project_API) in 131.1686ms
2025-11-01 23:30:41.108 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.PaymentController.GetAllPayments (Payment_Project_API)'
2025-11-01 23:30:41.110 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Payment - 200 null application/json; charset=utf-8 180.3084ms
2025-11-01 23:32:31.618 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Payment - application/json 87
2025-11-01 23:32:31.630 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:32:31.632 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:32:31.635 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.PaymentController.CreatePayment (Payment_Project_API)'
2025-11-01 23:32:31.645 +05:30 [INF] Route matched with {action = "CreatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePayment(Payment_Project_API.DTOs.PaymentDTO) on controller Payment_Project_API.Controllers.PaymentController (Payment_Project_API).
2025-11-01 23:32:31.680 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([ActionAt], [Amount], [CreatedAt], [PayeeAccountNumber], [PayerAccountId], [PaymentStatusId])
OUTPUT INSERTED.[PaymentId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-11-01 23:32:31.715 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentId], [p].[ActionAt], [p].[Amount], [p].[CreatedAt], [p].[PayeeAccountNumber], [p].[PayerAccountId], [p].[PaymentStatusId], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [p0].[StatusId], [p0].[Status]
FROM [Payments] AS [p]
INNER JOIN [Accounts] AS [a] ON [p].[PayerAccountId] = [a].[AccountId]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [PaymentStatuses] AS [p0] ON [p].[PaymentStatusId] = [p0].[StatusId]
WHERE [p].[PaymentId] = @__id_0
2025-11-01 23:32:31.724 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__id_0
2025-11-01 23:32:33.731 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.Payment'.
2025-11-01 23:32:33.741 +05:30 [INF] Executed action Payment_Project_API.Controllers.PaymentController.CreatePayment (Payment_Project_API) in 2091.4218ms
2025-11-01 23:32:33.744 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.PaymentController.CreatePayment (Payment_Project_API)'
2025-11-01 23:32:33.746 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Payment - 200 null application/json; charset=utf-8 2129.5822ms
2025-11-01 23:33:23.708 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 54
2025-11-01 23:33:23.720 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:33:23.721 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:33:23.724 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:33:23.732 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 23:33:23.737 +05:30 [INF] Login Started
2025-11-01 23:33:23.745 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 23:33:23.839 +05:30 [INF] Login Sucessfull
2025-11-01 23:33:23.841 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 23:33:23.843 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 107.111ms
2025-11-01 23:33:23.851 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:33:23.857 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 149.8928ms
2025-11-01 23:34:55.649 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7030/api/Payment/getPaymentsByAccountId/3 - null null
2025-11-01 23:34:55.660 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.PaymentController.GetPaymentsByAccountId (Payment_Project_API)'
2025-11-01 23:34:55.710 +05:30 [INF] Route matched with {action = "GetPaymentsByAccountId", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaymentsByAccountId(Int32) on controller Payment_Project_API.Controllers.PaymentController (Payment_Project_API).
2025-11-01 23:34:55.776 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__accountId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PaymentId], [p].[ActionAt], [p].[Amount], [p].[CreatedAt], [p].[PayeeAccountNumber], [p].[PayerAccountId], [p].[PaymentStatusId], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [p0].[StatusId], [p0].[Status], [t0].[TransactionId], [t0].[AccountId], [t0].[Amount], [t0].[CreatedAt], [t0].[PaymentId], [t0].[SalaryDisbursementId], [t0].[ToFrom], [t0].[TransactionTypeId]
FROM [Payments] AS [p]
INNER JOIN [Accounts] AS [a] ON [p].[PayerAccountId] = [a].[AccountId]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [PaymentStatuses] AS [p0] ON [p].[PaymentStatusId] = [p0].[StatusId]
LEFT JOIN [Transactions] AS [t0] ON [p].[PaymentId] = [t0].[PaymentId]
WHERE [p].[PayerAccountId] = @__accountId_0
ORDER BY [p].[PaymentId], [a].[AccountId], [t].[UserId], [p0].[StatusId]
2025-11-01 23:34:55.782 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Payment_Project_API.Models.Payment, Payment_Project_API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-01 23:34:55.785 +05:30 [INF] Executed action Payment_Project_API.Controllers.PaymentController.GetPaymentsByAccountId (Payment_Project_API) in 68.8344ms
2025-11-01 23:34:55.795 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.PaymentController.GetPaymentsByAccountId (Payment_Project_API)'
2025-11-01 23:34:55.798 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7030/api/Payment/getPaymentsByAccountId/3 - 200 null application/json; charset=utf-8 149.6229ms
2025-11-01 23:35:34.655 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7030/api/Payment/approve/3 - application/json 1257
2025-11-01 23:35:34.668 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:35:34.670 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:35:34.673 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.PaymentController.ApprovePayment (Payment_Project_API)'
2025-11-01 23:35:34.680 +05:30 [INF] Route matched with {action = "ApprovePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApprovePayment(Int32, Payment_Project_API.Models.Payment) on controller Payment_Project_API.Controllers.PaymentController (Payment_Project_API).
2025-11-01 23:35:34.801 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [a0].[StatusId], [a0].[Status], [a1].[TypeId], [a1].[Type], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
FROM [Accounts] AS [a]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [AccountStatuses] AS [a0] ON [a].[AccountStatusId] = [a0].[StatusId]
INNER JOIN [AccountTypes] AS [a1] ON [a].[AccountTypeId] = [a1].[TypeId]
INNER JOIN [Banks] AS [b] ON [a].[BankId] = [b].[BankId]
WHERE [a].[AccountId] = @__id_0
2025-11-01 23:35:34.811 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [a0].[StatusId], [a0].[Status], [a1].[TypeId], [a1].[Type], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive]
FROM [Accounts] AS [a]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [AccountStatuses] AS [a0] ON [a].[AccountStatusId] = [a0].[StatusId]
INNER JOIN [AccountTypes] AS [a1] ON [a].[AccountTypeId] = [a1].[TypeId]
INNER JOIN [Banks] AS [b] ON [a].[BankId] = [b].[BankId]
WHERE [a].[AccountId] = @__id_0
2025-11-01 23:35:34.856 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__accountNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [b].[BankId], [b].[BankName], [b].[CreatedAt], [b].[IFSC], [b].[IsActive], [a0].[TypeId], [a0].[Type], [a1].[StatusId], [a1].[Status]
FROM [Accounts] AS [a]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [Banks] AS [b] ON [a].[BankId] = [b].[BankId]
INNER JOIN [AccountTypes] AS [a0] ON [a].[AccountTypeId] = [a0].[TypeId]
INNER JOIN [AccountStatuses] AS [a1] ON [a].[AccountStatusId] = [a1].[StatusId]
WHERE [a].[AccountNumber] = @__accountNumber_0
2025-11-01 23:35:34.893 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Double), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([AccountId], [Amount], [CreatedAt], [PaymentId], [SalaryDisbursementId], [ToFrom], [TransactionTypeId])
OUTPUT INSERTED.[TransactionId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-11-01 23:35:34.908 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentId], [p].[ActionAt], [p].[Amount], [p].[CreatedAt], [p].[PayeeAccountNumber], [p].[PayerAccountId], [p].[PaymentStatusId], [a].[AccountId], [a].[AccountNumber], [a].[AccountStatusId], [a].[AccountTypeId], [a].[Balance], [a].[BankId], [a].[ClientId], [a].[CreatedAt], [a].[TransactionIds], [t].[UserId], [t].[BankId], [t].[Discriminator], [t].[Password], [t].[UserEmail], [t].[UserFullName], [t].[UserJoiningDate], [t].[UserName], [t].[UserPhone], [t].[UserRoleId], [t].[AccountId], [t].[Address], [t].[BankUserId], [t].[DateOfBirth], [t].[KycVierified], [p0].[StatusId], [p0].[Status]
FROM [Payments] AS [p]
INNER JOIN [Accounts] AS [a] ON [p].[PayerAccountId] = [a].[AccountId]
LEFT JOIN (
    SELECT [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
    FROM [Users] AS [u]
    WHERE [u].[Discriminator] = N'ClientUser'
) AS [t] ON [a].[ClientId] = [t].[UserId]
INNER JOIN [PaymentStatuses] AS [p0] ON [p].[PaymentStatusId] = [p0].[StatusId]
WHERE [p].[PaymentId] = @__id_0
2025-11-01 23:35:34.927 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Double), @p1='?' (Size = 4000), @p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Accounts] SET [Balance] = @p0, [TransactionIds] = @p1
OUTPUT 1
WHERE [AccountId] = @p2;
UPDATE [Payments] SET [PaymentStatusId] = @p3
OUTPUT 1
WHERE [PaymentId] = @p4;
2025-11-01 23:35:34.934 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__id_0
2025-11-01 23:35:36.879 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.Models.Payment'.
2025-11-01 23:35:36.882 +05:30 [INF] Executed action Payment_Project_API.Controllers.PaymentController.ApprovePayment (Payment_Project_API) in 2198.3851ms
2025-11-01 23:35:36.884 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.PaymentController.ApprovePayment (Payment_Project_API)'
2025-11-01 23:35:36.886 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7030/api/Payment/approve/3 - 200 null application/json; charset=utf-8 2232.0197ms
2025-11-01 23:36:45.934 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7030/api/Auth/Login - application/json 50
2025-11-01 23:36:45.941 +05:30 [INF] CORS policy execution failed.
2025-11-01 23:36:45.944 +05:30 [INF] Request origin https://localhost:7030 does not have permission to access the resource.
2025-11-01 23:36:45.949 +05:30 [INF] Executing endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:36:45.951 +05:30 [INF] Route matched with {action = "PostLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PostLogin(Payment_Project_API.DTOs.LoginDTO) on controller Payment_Project_API.Controllers.AuthController (Payment_Project_API).
2025-11-01 23:36:45.955 +05:30 [INF] Login Started
2025-11-01 23:36:45.962 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__usr_UserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[BankId], [u].[Discriminator], [u].[Password], [u].[UserEmail], [u].[UserFullName], [u].[UserJoiningDate], [u].[UserName], [u].[UserPhone], [u].[UserRoleId], [u].[Branch], [u].[RefferalCode], [u].[isActive], [u].[AccountId], [u].[Address], [u].[BankUserId], [u].[DateOfBirth], [u].[KycVierified], [r].[RoleId], [r].[Role]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[UserRoleId] = [r].[RoleId]
WHERE [u].[UserName] = @__usr_UserName_0
2025-11-01 23:36:46.055 +05:30 [INF] Login Sucessfull
2025-11-01 23:36:46.058 +05:30 [INF] Executing OkObjectResult, writing value of type 'Payment_Project_API.DTOs.LoginResponseDTO'.
2025-11-01 23:36:46.061 +05:30 [INF] Executed action Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API) in 106.5555ms
2025-11-01 23:36:46.070 +05:30 [INF] Executed endpoint 'Payment_Project_API.Controllers.AuthController.PostLogin (Payment_Project_API)'
2025-11-01 23:36:46.073 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7030/api/Auth/Login - 200 null application/json; charset=utf-8 139.2653ms
