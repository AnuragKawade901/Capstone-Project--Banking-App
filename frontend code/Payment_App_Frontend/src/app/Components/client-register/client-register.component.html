
<main class="container-fluid p-3 p-md-4">

  <nav aria-label="breadcrumb" class="bg-light p-3 rounded-3 mb-4 shadow-sm border">
    <ol class="breadcrumb mb-0">
      <li class="breadcrumb-item"><a routerLink="/client/home">Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">Register</li>
    </ol>
  </nav>

  <div class="d-flex justify-content-between align-items-center mb-3 pt-3">
    <h2 class="h4 fw-normal mb-0">Client Registration</h2>
  </div>

  <div class="row justify-content-center">
    <div class="col-lg-8">
      
      <div class="card shadow-sm border-0">
        <div class="card-header bg-light border-0 p-4">
          <h5 class="mb-0 h6 fw-bold">Please fill out your details</h5>
        </div>
        <div class="card-body p-4 p-md-5">
          
          <form [formGroup]="registerForm" (ngSubmit)="register()" class="row g-3">
            
            <div class="col-md-6">
              <label for="userFullName" class="form-label">Full Name</label>
              <input id="userFullName" formControlName="UserFullName" type="text" class="form-control" 
                     placeholder="Enter full name"
                     [class.is-invalid]="f['UserFullName'].touched && f['UserFullName'].invalid">
              <div *ngIf="f['UserFullName'].touched && f['UserFullName'].invalid" class="invalid-feedback">
                Full Name is required.
              </div>
            </div>

            <div class="col-md-6">
              <label for="userName" class="form-label">Username</label>
              <input id="userName" formControlName="UserName" type="text" class="form-control" 
                     placeholder="Enter username"
                     [class.is-invalid]="f['UserName'].touched && f['UserName'].invalid">
              <div *ngIf="f['UserName'].touched && f['UserName'].invalid" class="invalid-feedback">
                Username is required.
              </div>
              <div *ngIf="f['UserName'].errors?.['duplicate']">
                  This username is already registered.
                </div>
            </div>

            <div class="col-md-6">
              <label for="userEmail" class="form-label">Email</label>
              <input id="userEmail" formControlName="UserEmail" type="email" class="form-control" 
                     placeholder="Enter email"
                     [class.is-invalid]="f['UserEmail'].touched && f['UserEmail'].invalid">
              <div *ngIf="f['UserEmail'].touched && f['UserEmail'].invalid" class="invalid-feedback">
                <div *ngIf="f['UserEmail'].errors?.['required'] || f['UserEmail'].errors?.['email']">
                  Valid Email is required.
                </div>
                <div *ngIf="f['UserEmail'].errors?.['duplicate']">
                  This email is already registered.
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <label for="userPhone" class="form-label">Phone</label>
              <input id="userPhone" formControlName="UserPhone" type="text" class="form-control" 
                     placeholder="Enter phone number"
                     [class.is-invalid]="f['UserPhone'].touched && f['UserPhone'].invalid">
              <div *ngIf="f['UserPhone'].touched && f['UserPhone'].invalid" class="invalid-feedback">
                <div *ngIf="f['UserPhone'].errors?.['required'] || f['UserPhone'].errors?.['pattern']">
                  Phone is required and must be 10 digits.
                </div>
                <div *ngIf="f['UserPhone'].errors?.['duplicate']">
                  This phone number is already registered.
                </div>
              </div>
            </div>

            <div class="col-md-6">
              <label for="password" class="form-label">Password</label>
              <input id="password" formControlName="Password" type="password" class="form-control" 
                     placeholder="Enter password"
                     [class.is-invalid]="f['Password'].touched && f['Password'].invalid">
              <div *ngIf="f['Password'].touched && f['Password'].invalid" class="invalid-feedback">
                Password must be at least 8 characters and include uppercase, lowercase, number, and special character.
              </div>
            </div>

            <div class="col-md-6">
              <label for="confirmPassword" class="form-label">Confirm Password</label>
              <input id="confirmPassword" formControlName="ConfirmPassword" type="password" class="form-control" 
                     placeholder="Confirm password"
                     [class.is-invalid]="registerForm.errors?.['notMatching'] && f['ConfirmPassword'].touched">
              <div *ngIf="registerForm.errors?.['notMatching'] && f['ConfirmPassword'].touched"
                   class="invalid-feedback">
                Passwords do not match.
              </div>
            </div>

            <div class="col-md-6">
              <label for="dob" class="form-label">Date of Birth</label>
              <input id="dob" formControlName="DateOfBirth" type="date" class="form-control"
                     [class.is-invalid]="f['DateOfBirth'].touched && f['DateOfBirth'].invalid">
              <div *ngIf="f['DateOfBirth'].touched && f['DateOfBirth'].invalid" class="invalid-feedback">
                Date of birth is required.
              </div>
            </div>
            
            <div class="col-md-6">
              <label for="bankId" class="form-label">Bank</label>
              <select id="bankId" formControlName="BankId" class="form-select"
                      [class.is-invalid]="f['BankId'].touched && f['BankId'].invalid">
                <option value="" disabled selected>Select Bank</option>
                <option *ngFor="let bank of banks" [value]="bank.bankId">{{ bank.bankName }}</option>
              </select>
              <div *ngIf="f['BankId'].touched && f['BankId'].invalid" class="invalid-feedback">
                Please select a bank.
              </div>
            </div>

            <div class="col-12">
              <label for="address" class="form-label">Address</label>
              <textarea id="address" formControlName="Address" class="form-control" rows="2" 
                        placeholder="Enter address"
                        [class.is-invalid]="f['Address'].touched && f['Address'].invalid"></textarea>
              <div *ngIf="f['Address'].touched && f['Address'].invalid" class="invalid-feedback">
                Address is required.
              </div>
            </div>
         
          
          <div class="mt-4 pt-3 text-center d-grid border-top">
            <button type="submit" class="btn btn-primary btn-lg d-flex align-items-center justify-content-center" 
                    [disabled]="registerForm.invalid">
              <i class="bi bi-person-plus-fill me-2"></i>
              Register
            </button>
          </div>

        </form>
      </div>
    </div>
  </div>
  </div>

</main>